import{a as xt,c as Mt,d as kt,e as It,f as Et,g as Pt,h as Oe}from"./chunk-T3AJHPSQ.js";import{h as mt,l as ut}from"./chunk-EGVHIBQH.js";import{a as Ve,b as vt,c as St,d as Le,e as De,f as de,l as Fe,m as Ne,n as wt,o as Tt}from"./chunk-FAPWPAOS.js";import{a as Ee,b as Pe,d as gt,e as q,f as Y,h as Ze}from"./chunk-KUZVW6P4.js";import{$ as _,$a as g,$c as L,Ab as $,Ac as P,Bb as u,Cb as ee,Db as H,Fb as T,Gb as x,Hb as M,Ib as oe,Ic as te,Jb as G,Jc as Me,Kb as ae,Kc as ie,Lb as we,Ma as tt,Mb as lt,Nb as he,Ob as rt,Pa as s,Pc as ye,Q as _e,Qa as V,Qb as st,R as $e,Rc as ke,S as k,Ta as it,Vc as Z,Wa as fe,Wb as pt,X as I,Xc as Ie,Ya as ne,_c as O,aa as E,bb as b,bc as le,cb as d,d as w,dd as ft,ec as N,ed as Qe,fb as nt,fc as re,gb as Q,gc as Te,gd as He,hb as U,ia as h,id as Ue,ja as y,jb as ot,jd as Xe,kb as at,lb as a,ld as ze,mb as l,na as et,nb as v,nc as dt,ob as We,pa as F,pb as Re,qb as J,qd as pe,rb as C,sa as be,sb as f,ta as ue,tb as m,td as ht,ua as Ce,ub as j,uc as W,ud as yt,vb as A,wb as ve,wc as xe,wd as _t,xb as Se,xc as se,xd as bt,yb as X,yc as ct,yd as Ct,zb as z,zd as R}from"./chunk-HL3BC52I.js";var Vt=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=E({type:t});static \u0275inj=k({imports:[P,L]})}return t})();var Qt=["*"],Lt=(()=>{class t{iconPosition="left";get containerClass(){return{"p-icon-field-left":this.iconPosition==="left","p-icon-field-right":this.iconPosition==="right"}}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=_({type:t,selectors:[["p-iconField"]],inputs:{iconPosition:"iconPosition"},ngContentSelectors:Qt,decls:2,vars:1,consts:[[1,"p-icon-field",3,"ngClass"]],template:function(i,n){i&1&&(j(),a(0,"span",0),A(1),l()),i&2&&d("ngClass",n.containerClass)},dependencies:[W],styles:[`@layer primeng{.p-icon-field{position:relative}}
`],encapsulation:2,changeDetection:0})}return t})(),Dt=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=E({type:t});static \u0275inj=k({imports:[P,L]})}return t})();var Ut=["*"],Ft=(()=>{class t{styleClass;static \u0275fac=function(i){return new(i||t)};static \u0275cmp=_({type:t,selectors:[["p-inputIcon"]],inputs:{styleClass:"styleClass"},ngContentSelectors:Ut,decls:2,vars:1,consts:[[1,"p-input-icon",3,"ngClass"]],template:function(i,n){i&1&&(j(),a(0,"span",0),A(1),l()),i&2&&d("ngClass",n.styleClass)},dependencies:[W],styles:[`@layer primeng{.p-fluid .p-icon-field-left,.p-fluid .p-icon-field-right{width:100%}}
`],encapsulation:2,changeDetection:0})}return t})(),Nt=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=E({type:t});static \u0275inj=k({imports:[P,L]})}return t})();var zt=["*"],Zt=(t,r,e,i,n,o)=>({"p-sidebar":!0,"p-sidebar-active":t,"p-sidebar-left":r,"p-sidebar-right":e,"p-sidebar-top":i,"p-sidebar-bottom":n,"p-sidebar-full":o}),qt=(t,r)=>({transform:t,transition:r}),Yt=t=>({value:"visible",params:t});function Kt(t,r){t&1&&J(0)}function Jt(t,r){if(t&1&&(We(0),g(1,Kt,1,0,"ng-container",5),Re()),t&2){let e=m(2);s(),d("ngTemplateOutlet",e.headlessTemplate)}}function $t(t,r){t&1&&J(0)}function ei(t,r){t&1&&v(0,"TimesIcon",13),t&2&&(d("styleClass","p-sidebar-close-icon"),b("data-pc-section","closeicon"))}function ti(t,r){}function ii(t,r){t&1&&g(0,ti,0,0,"ng-template")}function ni(t,r){if(t&1&&(a(0,"span",14),g(1,ii,1,0,null,5),l()),t&2){let e=m(4);b("data-pc-section","closeicon"),s(),d("ngTemplateOutlet",e.closeIconTemplate)}}function oi(t,r){if(t&1){let e=C();a(0,"button",10),f("click",function(n){h(e);let o=m(3);return y(o.close(n))})("keydown.enter",function(n){h(e);let o=m(3);return y(o.close(n))}),g(1,ei,1,2,"TimesIcon",11)(2,ni,2,2,"span",12),l()}if(t&2){let e=m(3);b("aria-label",e.ariaCloseLabel)("data-pc-section","closebutton")("data-pc-group-section","iconcontainer"),s(),d("ngIf",!e.closeIconTemplate),s(),d("ngIf",e.closeIconTemplate)}}function ai(t,r){t&1&&J(0)}function li(t,r){t&1&&J(0)}function ri(t,r){if(t&1&&(We(0),a(1,"div",15),g(2,li,1,0,"ng-container",5),l(),Re()),t&2){let e=m(3);s(),b("data-pc-section","footer"),s(),d("ngTemplateOutlet",e.footerTemplate)}}function si(t,r){if(t&1&&(a(0,"div",6),g(1,$t,1,0,"ng-container",5)(2,oi,3,5,"button",7),l(),a(3,"div",8),A(4),g(5,ai,1,0,"ng-container",5),l(),g(6,ri,3,2,"ng-container",9)),t&2){let e=m(2);b("data-pc-section","header"),s(),d("ngTemplateOutlet",e.headerTemplate),s(),d("ngIf",e.showCloseIcon),s(),b("data-pc-section","content"),s(2),d("ngTemplateOutlet",e.contentTemplate),s(),d("ngIf",e.footerTemplate)}}function pi(t,r){if(t&1){let e=C();a(0,"div",3,0),f("@panelState.start",function(n){h(e);let o=m();return y(o.onAnimationStart(n))})("@panelState.done",function(n){h(e);let o=m();return y(o.onAnimationEnd(n))})("keydown",function(n){h(e);let o=m();return y(o.onKeyDown(n))}),g(2,Jt,2,1,"ng-container",4)(3,si,7,6,"ng-template",null,1,pt),l()}if(t&2){let e=$(4),i=m();Q(i.styleClass),d("ngClass",st(9,Zt,i.visible,i.position==="left"&&!i.fullScreen,i.position==="right"&&!i.fullScreen,i.position==="top"&&!i.fullScreen,i.position==="bottom"&&!i.fullScreen,i.fullScreen))("@panelState",we(19,Yt,lt(16,qt,i.transformOptions,i.transitionOptions)))("ngStyle",i.style),b("data-pc-name","sidebar")("data-pc-section","root"),s(2),d("ngIf",i.headlessTemplate)("ngIfElse",e)}}var di=Xe([He({transform:"{{transform}}",opacity:0}),Qe("{{transition}}")]),ci=Xe([Qe("{{transition}}",He({transform:"{{transform}}",opacity:0}))]),ce=(()=>{class t{document;el;renderer;cd;config;appendTo;blockScroll=!1;style;styleClass;ariaCloseLabel;autoZIndex=!0;baseZIndex=0;modal=!0;dismissible=!0;showCloseIcon=!0;closeOnEscape=!0;transitionOptions="150ms cubic-bezier(0, 0, 0.2, 1)";get visible(){return this._visible}set visible(e){this._visible=e}get position(){return this._position}set position(e){switch(this._position=e,e){case"left":this.transformOptions="translate3d(-100%, 0px, 0px)";break;case"right":this.transformOptions="translate3d(100%, 0px, 0px)";break;case"bottom":this.transformOptions="translate3d(0px, 100%, 0px)";break;case"top":this.transformOptions="translate3d(0px, -100%, 0px)";break}}get fullScreen(){return this._fullScreen}set fullScreen(e){this._fullScreen=e,e&&(this.transformOptions="none")}templates;onShow=new F;onHide=new F;visibleChange=new F;initialized;_visible;_position="left";_fullScreen=!1;container;transformOptions="translate3d(-100%, 0px, 0px)";mask;maskClickListener;documentEscapeListener;animationEndListener;contentTemplate;headerTemplate;footerTemplate;closeIconTemplate;headlessTemplate;constructor(e,i,n,o,c){this.document=e,this.el=i,this.renderer=n,this.cd=o,this.config=c}ngAfterViewInit(){this.initialized=!0}ngAfterContentInit(){this.templates?.forEach(e=>{switch(e.getType()){case"content":this.contentTemplate=e.template;break;case"header":this.headerTemplate=e.template;break;case"footer":this.footerTemplate=e.template;break;case"closeicon":this.closeIconTemplate=e.template;break;case"headless":this.headlessTemplate=e.template;break;default:this.contentTemplate=e.template;break}})}onKeyDown(e){e.code==="Escape"&&this.hide(!1)}show(){this.autoZIndex&&ye.set("modal",this.container,this.baseZIndex||this.config.zIndex.modal),this.modal&&this.enableModality(),this.onShow.emit({}),this.visibleChange.emit(!0)}hide(e=!0){e&&this.onHide.emit({}),this.modal&&this.disableModality()}close(e){this.hide(),this.visibleChange.emit(!1),e.preventDefault()}enableModality(){this.mask||(this.mask=this.renderer.createElement("div"),this.renderer.setStyle(this.mask,"zIndex",String(parseInt(this.container.style.zIndex)-1)),pe.addMultipleClasses(this.mask,"p-component-overlay p-sidebar-mask p-component-overlay p-component-overlay-enter"),this.dismissible&&(this.maskClickListener=this.renderer.listen(this.mask,"click",e=>{this.dismissible&&this.close(e)})),this.renderer.appendChild(this.document.body,this.mask),this.blockScroll&&pe.blockBodyScroll())}disableModality(){this.mask&&(pe.addClass(this.mask,"p-component-overlay-leave"),this.animationEndListener=this.renderer.listen(this.mask,"animationend",this.destroyModal.bind(this)))}destroyModal(){this.unbindMaskClickListener(),this.mask&&this.renderer.removeChild(this.document.body,this.mask),this.blockScroll&&pe.unblockBodyScroll(),this.unbindAnimationEndListener(),this.mask=null}onAnimationStart(e){switch(e.toState){case"visible":this.container=e.element,this.appendContainer(),this.show(),this.closeOnEscape&&this.bindDocumentEscapeListener();break}}onAnimationEnd(e){switch(e.toState){case"void":this.hide(!1),ye.clear(this.container),this.unbindGlobalListeners();break}}appendContainer(){this.appendTo&&(this.appendTo==="body"?this.renderer.appendChild(this.document.body,this.container):pe.appendChild(this.container,this.appendTo))}bindDocumentEscapeListener(){let e=this.el?this.el.nativeElement.ownerDocument:this.document;this.documentEscapeListener=this.renderer.listen(e,"keydown",i=>{i.which==27&&parseInt(this.container.style.zIndex)===ye.get(this.container)&&this.close(i)})}unbindDocumentEscapeListener(){this.documentEscapeListener&&(this.documentEscapeListener(),this.documentEscapeListener=null)}unbindMaskClickListener(){this.maskClickListener&&(this.maskClickListener(),this.maskClickListener=null)}unbindGlobalListeners(){this.unbindMaskClickListener(),this.unbindDocumentEscapeListener()}unbindAnimationEndListener(){this.animationEndListener&&this.mask&&(this.animationEndListener(),this.animationEndListener=null)}ngOnDestroy(){this.initialized=!1,this.visible&&this.modal&&this.destroyModal(),this.appendTo&&this.container&&this.renderer.appendChild(this.el.nativeElement,this.container),this.container&&this.autoZIndex&&ye.clear(this.container),this.container=null,this.unbindGlobalListeners(),this.unbindAnimationEndListener()}static \u0275fac=function(i){return new(i||t)(V(dt),V(Ce),V(it),V(le),V(Ie))};static \u0275cmp=_({type:t,selectors:[["p-sidebar"]],contentQueries:function(i,n,o){if(i&1&&ve(o,O,4),i&2){let c;X(c=z())&&(n.templates=c)}},hostAttrs:[1,"p-element"],inputs:{appendTo:"appendTo",blockScroll:[2,"blockScroll","blockScroll",N],style:"style",styleClass:"styleClass",ariaCloseLabel:"ariaCloseLabel",autoZIndex:[2,"autoZIndex","autoZIndex",N],baseZIndex:[2,"baseZIndex","baseZIndex",re],modal:[2,"modal","modal",N],dismissible:[2,"dismissible","dismissible",N],showCloseIcon:[2,"showCloseIcon","showCloseIcon",N],closeOnEscape:[2,"closeOnEscape","closeOnEscape",N],transitionOptions:"transitionOptions",visible:"visible",position:"position",fullScreen:"fullScreen"},outputs:{onShow:"onShow",onHide:"onHide",visibleChange:"visibleChange"},features:[ne],ngContentSelectors:zt,decls:1,vars:1,consts:[["container",""],["notHeadless",""],["role","complementary",3,"ngClass","ngStyle","class","keydown",4,"ngIf"],["role","complementary",3,"keydown","ngClass","ngStyle"],[4,"ngIf","ngIfElse"],[4,"ngTemplateOutlet"],[1,"p-sidebar-header"],["type","button","class","p-sidebar-close p-sidebar-icon p-link","pRipple","",3,"click","keydown.enter",4,"ngIf"],[1,"p-sidebar-content"],[4,"ngIf"],["type","button","pRipple","",1,"p-sidebar-close","p-sidebar-icon","p-link",3,"click","keydown.enter"],[3,"styleClass",4,"ngIf"],["class","p-sidebar-close-icon",4,"ngIf"],[3,"styleClass"],[1,"p-sidebar-close-icon"],[1,"p-sidebar-footer"]],template:function(i,n){i&1&&(j(),g(0,pi,5,21,"div",2)),i&2&&d("ngIf",n.visible)},dependencies:()=>[W,xe,ct,se,ht,Ze],styles:[`@layer primeng{.p-sidebar{position:fixed;transition:transform .3s;display:flex;flex-direction:column}.p-sidebar-content{position:relative;overflow-y:auto;flex-grow:1}.p-sidebar-header{display:flex;align-items:center}.p-sidebar-footer{margin-top:auto}.p-sidebar-icon{display:flex;align-items:center;justify-content:center;margin-left:auto}.p-sidebar-left{top:0;left:0;width:20rem;height:100%}.p-sidebar-right{top:0;right:0;width:20rem;height:100%}.p-sidebar-top{top:0;left:0;width:100%;height:10rem}.p-sidebar-bottom{bottom:0;left:0;width:100%;height:10rem}.p-sidebar-full{width:100%;height:100%;top:0;left:0;-webkit-transition:none;transition:none}.p-sidebar-left.p-sidebar-sm,.p-sidebar-right.p-sidebar-sm{width:20rem}.p-sidebar-left.p-sidebar-md,.p-sidebar-right.p-sidebar-md{width:40rem}.p-sidebar-left.p-sidebar-lg,.p-sidebar-right.p-sidebar-lg{width:60rem}.p-sidebar-top.p-sidebar-sm,.p-sidebar-bottom.p-sidebar-sm{height:10rem}.p-sidebar-top.p-sidebar-md,.p-sidebar-bottom.p-sidebar-md{height:20rem}.p-sidebar-top.p-sidebar-lg,.p-sidebar-bottom.p-sidebar-lg{height:30rem}@media screen and (max-width: 64em){.p-sidebar-left.p-sidebar-lg,.p-sidebar-left.p-sidebar-md,.p-sidebar-right.p-sidebar-lg,.p-sidebar-right.p-sidebar-md{width:20rem}}}
`],encapsulation:2,data:{animation:[ft("panelState",[Ue("void => visible",[ze(di)]),Ue("visible => void",[ze(ci)])])]},changeDetection:0})}return t})(),K=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=E({type:t});static \u0275inj=k({imports:[P,yt,L,Ze,L]})}return t})();var Ot=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=E({type:t});static \u0275inj=k({imports:[P,L,L]})}return t})();var ui=["input"],fi=(t,r,e,i)=>({"p-radiobutton p-component":!0,"p-radiobutton-checked":t,"p-radiobutton-disabled":r,"p-radiobutton-focused":e,"p-variant-filled":i}),hi=(t,r,e)=>({"p-radiobutton-box":!0,"p-highlight":t,"p-disabled":r,"p-focus":e}),yi=(t,r,e)=>({"p-radiobutton-label":!0,"p-radiobutton-label-active":t,"p-disabled":r,"p-radiobutton-label-focus":e});function gi(t,r){if(t&1){let e=C();a(0,"label",7),f("click",function(n){h(e);let o=m();return y(o.select(n))}),u(1),l()}if(t&2){let e=m(),i=$(3);Q(e.labelStyleClass),d("ngClass",he(6,yi,i.checked,e.disabled,e.focused)),b("for",e.inputId)("data-pc-section","label"),s(),ee(e.label)}}var _i={provide:Ve,useExisting:_e(()=>Ye),multi:!0},bi=(()=>{class t{accessors=[];add(e,i){this.accessors.push([e,i])}remove(e){this.accessors=this.accessors.filter(i=>i[1]!==e)}select(e){this.accessors.forEach(i=>{this.isSameGroup(i,e)&&i[1]!==e&&i[1].writeValue(e.value)})}isSameGroup(e,i){return e[0].control?e[0].control.root===i.control.control.root&&e[1].name===i.name:!1}static \u0275fac=function(i){return new(i||t)};static \u0275prov=$e({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Ye=(()=>{class t{cd;injector;registry;config;value;formControlName;name;disabled;label;variant="outlined";tabindex;inputId;ariaLabelledBy;ariaLabel;style;styleClass;labelStyleClass;autofocus;onClick=new F;onFocus=new F;onBlur=new F;inputViewChild;onModelChange=()=>{};onModelTouched=()=>{};checked;focused;control;constructor(e,i,n,o){this.cd=e,this.injector=i,this.registry=n,this.config=o}ngOnInit(){this.control=this.injector.get(St),this.checkName(),this.registry.add(this.control,this)}handleClick(e,i,n){e.preventDefault(),!this.disabled&&(this.select(e),n&&i.focus())}select(e){this.disabled||(this.inputViewChild.nativeElement.checked=!0,this.checked=!0,this.onModelChange(this.value),this.registry.select(this),this.onClick.emit({originalEvent:e,value:this.value}))}writeValue(e){this.checked=e==this.value,this.inputViewChild&&this.inputViewChild.nativeElement&&(this.inputViewChild.nativeElement.checked=this.checked),this.cd.markForCheck()}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e,this.cd.markForCheck()}onInputFocus(e){this.focused=!0,this.onFocus.emit(e)}onInputBlur(e){this.focused=!1,this.onModelTouched(),this.onBlur.emit(e)}focus(){this.inputViewChild.nativeElement.focus()}ngOnDestroy(){this.registry.remove(this)}checkName(){this.name&&this.formControlName&&this.name!==this.formControlName&&this.throwNameError(),!this.name&&this.formControlName&&(this.name=this.formControlName)}throwNameError(){throw new Error(`
          If you define both a name and a formControlName attribute on your radio button, their values
          must match. Ex: <p-radioButton formControlName="food" name="food"></p-radioButton>
        `)}static \u0275fac=function(i){return new(i||t)(V(le),V(et),V(bi),V(Ie))};static \u0275cmp=_({type:t,selectors:[["p-radioButton"]],viewQuery:function(i,n){if(i&1&&Se(ui,5),i&2){let o;X(o=z())&&(n.inputViewChild=o.first)}},hostAttrs:[1,"p-element"],inputs:{value:"value",formControlName:"formControlName",name:"name",disabled:[2,"disabled","disabled",N],label:"label",variant:"variant",tabindex:[2,"tabindex","tabindex",re],inputId:"inputId",ariaLabelledBy:"ariaLabelledBy",ariaLabel:"ariaLabel",style:"style",styleClass:"styleClass",labelStyleClass:"labelStyleClass",autofocus:[2,"autofocus","autofocus",N]},outputs:{onClick:"onClick",onFocus:"onFocus",onBlur:"onBlur"},features:[oe([_i]),ne],decls:7,vars:31,consts:[["input",""],[3,"click","ngStyle","ngClass"],[1,"p-hidden-accessible"],["type","radio","pAutoFocus","",3,"focus","blur","checked","disabled","value","autofocus"],[3,"ngClass"],[1,"p-radiobutton-icon"],[3,"class","ngClass","click",4,"ngIf"],[3,"click","ngClass"]],template:function(i,n){if(i&1){let o=C();a(0,"div",1),f("click",function(p){h(o);let S=$(3);return y(n.handleClick(p,S,!0))}),a(1,"div",2)(2,"input",3,0),f("focus",function(p){return h(o),y(n.onInputFocus(p))})("blur",function(p){return h(o),y(n.onInputBlur(p))}),l()(),a(4,"div",4),v(5,"span",5),l()(),g(6,gi,2,10,"label",6)}i&2&&(Q(n.styleClass),d("ngStyle",n.style)("ngClass",rt(22,fi,n.checked,n.disabled,n.focused,n.variant==="filled"||n.config.inputStyle()==="filled")),b("data-pc-name","radiobutton")("data-pc-section","root"),s(),b("data-pc-section","hiddenInputWrapper"),s(),d("checked",n.checked)("disabled",n.disabled)("value",n.value)("autofocus",n.autofocus),b("id",n.inputId)("name",n.name)("aria-labelledby",n.ariaLabelledBy)("aria-label",n.ariaLabel)("tabindex",n.tabindex)("aria-checked",n.checked)("data-pc-section","hiddenInput"),s(2),d("ngClass",he(27,hi,n.checked,n.disabled,n.focused)),b("data-pc-section","input"),s(),b("data-pc-section","icon"),s(),d("ngIf",n.label))},dependencies:[W,xe,se,Ee],encapsulation:2,changeDetection:0})}return t})(),je=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=E({type:t});static \u0275inj=k({imports:[P,Pe]})}return t})();function Si(t,r){t&1&&(a(0,"div",17),u(1,"SPLIT PLAYLIST"),l())}var Bt=(()=>{let r=class r{constructor(){this.splitCount=1,this.spotify=I(R),this.toastService=I(Z),this.showSplitPlaylistSidebar=!1,this.showSplitPlaylistSidebarChange=new F,this.splitMode="dividePlayListIntoXParts"}splitPlaylist(){return w(this,null,function*(){let i=yield Me(()=>w(this,null,function*(){let n=this.playlist.tracks?.total||0;if(n<1)throw new Error("No Tracks In playlist to Split");if(this.splitCount>n)throw new Error("Split Count Exceeded total number of playlist tracks");if(this.splitCount<1)throw new Error("Split Count Can not be 0");let c=(yield this.spotify.getAllPlaylistItems(this.playlist.id,n)).map(D=>D.track?.uri),p=0;this.splitMode==="dividePlayListIntoXParts"?p=Math.ceil(n/this.splitCount):this.splitMode==="createPlayListWithXSongs"&&(p=this.splitCount);let S=bt(c,p);for(let D=0;D<S.length;D++){let me=yield this.spotify.createPlaylist(`${this.playlist.name} - splitted #${D+1}`);if(!me)throw new Error("Failed To Create Playlist");yield this.spotify.addTracksToPlaylist(me.id,S[D])}return!0}));if(ie(i))return this.toastService.add({severity:"error",summary:"Error",detail:i.error});this.toastService.add({severity:"success",summary:"Success",detail:"Playlists Created successfully"}),this.showSplitPlaylistSidebarChange.emit(!1)})}};r.\u0275fac=function(n){return new(n||r)},r.\u0275cmp=_({type:r,selectors:[["app-playlist-split"]],inputs:{playlist:"playlist",showSplitPlaylistSidebar:"showSplitPlaylistSidebar"},outputs:{showSplitPlaylistSidebarChange:"showSplitPlaylistSidebarChange"},standalone:!0,features:[G],decls:22,vars:6,consts:[["styleClass","p-sidebar-md","title","Split Playlist","position","right",1,"no-sidebar-shadow",3,"visibleChange","onHide","visible"],["pTemplate","header"],[1,"px-5","h-full"],[1,"text-lg","font-semibold"],[1,"block","font-bold","text-gray-600","dark:text-gray-300","mt-4"],[1,"flex","flex-col","ml-4"],[1,"flex","py-3","align-middle"],["name","dividePlayListIntoXParts","value","dividePlayListIntoXParts","inputId","dividePlayListIntoXParts",3,"ngModelChange","ngModel"],["for","dividePlayListIntoXParts",1,"ml-2"],[1,"flex","py-3"],["name","createPlayListWithXSongs","value","createPlayListWithXSongs","inputId","createPlayListWithXSongs",3,"ngModelChange","ngModel"],["for","createPlayListWithXSongs",1,"ml-2"],[1,""],["for","minmax",1,"block","pb-3"],["inputId","minmax","mode","decimal","min","0",3,"ngModelChange","ngModel","max"],[1,"flex","flex-row-reverse","mt-4"],["label","Split Playlist","icon","pi pi-check",1,"text-2xl",3,"onClick"],[1,"font-semibold","text-2xl"]],template:function(n,o){n&1&&(a(0,"p-sidebar",0),M("visibleChange",function(p){return x(o.showSplitPlaylistSidebar,p)||(o.showSplitPlaylistSidebar=p),p}),f("onHide",function(){return o.showSplitPlaylistSidebarChange.emit(!1)}),g(1,Si,2,0,"ng-template",1),a(2,"div",2)(3,"p",3),u(4," Split the playlist onto many parts. The original playlist won't be modified or deleted. "),l(),a(5,"span",4),u(6," Split type: "),l(),a(7,"div",5)(8,"div",6)(9,"p-radioButton",7),M("ngModelChange",function(p){return x(o.splitMode,p)||(o.splitMode=p),p}),l(),a(10,"label",8),u(11," Divide Playlist into X parts "),l()(),a(12,"div",9)(13,"p-radioButton",10),M("ngModelChange",function(p){return x(o.splitMode,p)||(o.splitMode=p),p}),l(),a(14,"label",11),u(15," Create Playlist with X songs each "),l()()(),a(16,"div",12)(17,"label",13),u(18),l(),a(19,"p-inputNumber",14),M("ngModelChange",function(p){return x(o.splitCount,p)||(o.splitCount=p),p}),l()(),a(20,"div",15)(21,"p-button",16),f("onClick",function(){return o.splitPlaylist()}),l()()()()),n&2&&(T("visible",o.showSplitPlaylistSidebar),s(9),T("ngModel",o.splitMode),s(4),T("ngModel",o.splitMode),s(5),H(" ",o.splitMode==="createPlayListWithXSongs"?"Number of songs":"Number of parts",""),s(),T("ngModel",o.splitCount),d("max",o.playlist.tracks==null?null:o.playlist.tracks.total))},dependencies:[K,ce,O,je,Ye,de,Le,De,Tt,wt,Y,q],encapsulation:2});let t=r;return t})();var wi=["*"],Ae=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275cmp=_({type:t,selectors:[["p-floatLabel"]],ngContentSelectors:wi,decls:2,vars:0,consts:[[1,"p-float-label"]],template:function(i,n){i&1&&(j(),a(0,"span",0),A(1),l())},encapsulation:2,changeDetection:0})}return t})(),Ge=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=E({type:t});static \u0275inj=k({imports:[P,L,ut,L]})}return t})();var xi=(t,r)=>r.uuid;function Mi(t,r){t&1&&(a(0,"div",8),u(1,"SPLIT PLAYLIST"),l(),v(2,"div"))}function ki(t,r){if(t&1){let e=C();a(0,"div",9),f("click",function(){let n=h(e).$implicit,o=m();return y(o.setSelectedGenere(n))}),a(1,"label",10)(2,"span",11),u(3),l(),a(4,"span",12),u(5),l()()()}if(t&2){let e=r.$implicit;s(),d("for",e.genre),s(2),ee(e.genre),s(2),H("(",e.items.length,")")}}function Ii(t,r){t&1&&v(0,"div")}function Ei(t,r){if(t&1&&(v(0,"p-button",13),g(1,Ii,1,0,"div")),t&2){let e=m();d("classList","fullWidthBtn")("disabled",!e.selectedGenre),s(),U(e.selectedGenre?1:-1)}}var At=(()=>{let r=class r{constructor(){this.myVals=[],this.showGenreSidebar=!0,this.showGenreSidebarChange=new F,this.searchedText=fe(""),this.genreMap=fe([]),this.filteredGenreMap=Te(()=>{let i=this.searchedText();return this.genreMap().filter(n=>n.genre.includes(i))}),this.spotify=I(R)}setSelectedGenere(i){this.myVals.push(...i.items),console.log(this.myVals)}ngOnInit(){return w(this,null,function*(){te().set(!0);try{if(!this.playlist.tracks?.total)throw new Error("there are no tracks available");let i=yield this.spotify.getAllPlaylistItems(this.playlist.id,this.playlist.tracks?.total),n={};i.forEach(S=>{S.track.artists.forEach(D=>{n[D.id]||(n[D.id]=[]),n[D.id].push(S.track.id)})});let o=yield this.spotify.getArtists(Object.keys(n)),c={},p=[];o.forEach(S=>{S.genres.forEach(D=>{let me=n[S.id];c[D]?c[D].push(...me):c[D]=me})}),Object.keys(c).forEach(S=>{p.push({uuid:Math.random().toString(),genre:S,items:Ct(c[S])})}),this.genreMap.set(p)}catch(i){console.error("\u{1F680} ~ file: genre.component.ts:77 ~ GenreComponent ~ ngOnInit ~ error:",i)}finally{te().set(!1)}})}searched(i){i.preventDefault();let n=i.target;console.log("searched",i),this.searchedText.set(n.value)}};r.\u0275fac=function(n){return new(n||r)},r.\u0275cmp=_({type:r,selectors:[["app-genre"]],inputs:{playlist:"playlist",showGenreSidebar:"showGenreSidebar"},outputs:{showGenreSidebarChange:"showGenreSidebarChange"},standalone:!0,features:[oe([]),G],decls:12,vars:1,consts:[["styleClass","p-sidebar-md","title","Genre ","position","right",1,"no-sidebar-shadow",3,"visibleChange","onHide","visible"],["pTemplate","header"],[1,"px-5","h-full"],[1,"pt-5","pb-2"],["type","text","pInputText","",1,"w-full",3,"input"],["for","username"],["tabindex","0",1,"cursor-pointer","hover:text-purple-600","hover:bg-gray-500","mb-1","flex","py-1","ng-star-inserted","bg-gray-100","rounded-md","pl-3"],["pTemplate","footer"],[1,"font-semibold","text-2xl"],["tabindex","0",1,"cursor-pointer","hover:text-purple-600","hover:bg-gray-500","mb-1","flex","py-1","ng-star-inserted","bg-gray-100","rounded-md","pl-3",3,"click"],[1,"ml-2",3,"for"],[1,"text-2xl","cursor-pointer"],[1,"text-xl","text-gray-500","pl-3"],["label","Create Playlist","icon","pi pi-check",1,"text-2xl","w-full",3,"classList","disabled"]],template:function(n,o){n&1&&(a(0,"p-sidebar",0),M("visibleChange",function(p){return x(o.showGenreSidebar,p)||(o.showGenreSidebar=p),p}),f("onHide",function(){return o.showGenreSidebarChange.emit(!1)}),g(1,Mi,3,0,"ng-template",1),a(2,"div",2)(3,"div",3)(4,"p-floatLabel")(5,"input",4),f("input",function(p){return o.searched(p)}),l(),a(6,"label",5),u(7,"Search Genre"),l()()(),a(8,"div"),ot(9,ki,6,3,"div",6,xi),l()(),g(11,Ei,2,3,"ng-template",7),l()),n&2&&(T("visible",o.showGenreSidebar),s(9),at(o.filteredGenreMap()))},dependencies:[K,ce,O,je,Y,q,Ne,Fe,Ge,Ae],encapsulation:2});let t=r;return t})();function Pi(t,r){if(t&1){let e=C();a(0,"app-playlist-split",14),M("showSplitPlaylistSidebarChange",function(n){h(e);let o=m();return x(o.playlistSplitModelVisibility,n)||(o.playlistSplitModelVisibility=n),y(n)}),l()}if(t&2){let e=m();d("playlist",e.playlist()),T("showSplitPlaylistSidebar",e.playlistSplitModelVisibility)}}function Vi(t,r){if(t&1){let e=C();a(0,"app-genre",15),M("showGenreSidebarChange",function(n){h(e);let o=m();return x(o.genreView,n)||(o.genreView=n),y(n)}),l()}if(t&2){let e=m();d("playlist",e.playlist()),T("showGenreSidebar",e.genreView)}}var Gt=(()=>{let r=class r{constructor(){this.genreView=!1,this.playlist=ue.required(),this.playlistSplitModelVisibility=fe(!1),this.onComplete=be(),this.showSpinner=te(),this.spotify=I(R),this.toastService=I(Z),this.confirmService=I(ke)}filteredGenre(i){this.genreView=!0}deleteDuplicates(i,n,o){return w(this,null,function*(){console.log("\u{1F680} ~ file: playlist-card.component.ts:47 ~ PlayListCardComponent ~ clonePlaylist ~ playlistName:",o),console.log("\u{1F680} ~ file: playlist-card.component.ts:47 ~ PlayListCardComponent ~ clonePlaylist ~ totalTracks:",n),console.log("\u{1F680} ~ file: playlist-card.component.ts:47 ~ PlayListCardComponent ~ clonePlaylist ~ playlistId:",i)})}clonePlaylist(i,n,o){return w(this,null,function*(){let c=yield this.spotify.clonePlaylist(i,n,o);ie(c)&&this.toastService.add({severity:"error",summary:"Error",detail:c.error}),this.toastService.add({severity:"success",summary:"Success",detail:"Playlist cloned successfully"}),this.onComplete.emit()})}};r.\u0275fac=function(n){return new(n||r)},r.\u0275cmp=_({type:r,selectors:[["app-playlist-options"]],inputs:{playlist:[1,"playlist"]},outputs:{onComplete:"onComplete"},standalone:!0,features:[G],decls:31,vars:7,consts:[["position","right","styleClass","p-sidebar-md",3,"onHide","visible"],[1,""],[1,"relative"],[1,"absolute","flex","h-80","w-full","items-end","bg-black","opacity-60"],[1,"absolute","flex","h-80","w-full","items-end","p-4","text-white"],[1,"mb-2","text-2xl","font-bold","tracking-wider"],["alt","","srcset","","tabindex","0",1,"h-80","w-full","object-cover",3,"src"],[1,"px-4"],[1,"text-2xl","font-bold","pt-4","pb-2"],[1,"mx-4"],["tabindex","0",1,"cursor-pointer","pl-4","py-2","text-lg","hover:text-purple-600",3,"click"],[1,"cursor-pointer","pl-4","py-2","text-lg","hover:text-purple-600",3,"click"],[3,"playlist","showSplitPlaylistSidebar"],[3,"playlist","showGenreSidebar"],[3,"showSplitPlaylistSidebarChange","playlist","showSplitPlaylistSidebar"],[3,"showGenreSidebarChange","playlist","showGenreSidebar"]],template:function(n,o){if(n&1&&(a(0,"p-sidebar",0),f("onHide",function(){return o.onComplete.emit()}),a(1,"div",1)(2,"div",2),v(3,"div",3),a(4,"div",4)(5,"div")(6,"h2",5),u(7),l(),a(8,"p")(9,"strong"),u(10,"Made by"),l(),u(11),l(),a(12,"p")(13,"strong"),u(14,"With"),l(),u(15),l()()(),v(16,"img",6),l(),a(17,"div",7)(18,"div",8),u(19,"Creation Tools"),l(),a(20,"div",9)(21,"div",10),f("click",function(){return o.playlistSplitModelVisibility.set(!0)}),u(22," Split Playlist "),l(),a(23,"div",10),f("click",function(){let p;return o.clonePlaylist(o.playlist().id,((p=o.playlist().tracks)==null?null:p.total)||0,o.playlist().name)}),u(24," Clone Playlist "),l(),a(25,"div",10),f("click",function(){let p;return o.deleteDuplicates(o.playlist().id,((p=o.playlist().tracks)==null?null:p.total)||0,o.playlist().name)}),u(26," Delete Duplicates "),l(),a(27,"div",11),f("click",function(){return o.filteredGenre(o.playlist())}),u(28," Filtered Genre "),l()()()()(),g(29,Pi,1,2,"app-playlist-split",12)(30,Vi,1,2,"app-genre",13)),n&2){let c;d("visible",!0),s(7),H(" ",o.playlist().name," "),s(4),H(" ",o.playlist().owner.display_name,""),s(4),H(" ",((c=o.playlist().tracks)==null?null:c.total)||0," items"),s(),d("src",o.playlist().images&&o.playlist().images.length?o.playlist().images[0].url:"https://primefaces.org/cdn/primeng/images/demo/avatar/amyelsner.png",tt),s(13),U(o.playlistSplitModelVisibility()?29:-1),s(),U(o.genreView?30:-1)}},dependencies:[K,ce,Oe,de,Bt,At],encapsulation:2});let t=r;return t})();var Li=["input"],Di=(t,r,e)=>({"p-inputswitch p-component":!0,"p-inputswitch-checked":t,"p-disabled":r,"p-focus":e}),Fi={provide:Ve,useExisting:_e(()=>Je),multi:!0},Je=(()=>{class t{cd;style;styleClass;tabindex;inputId;name;disabled;readonly;trueValue=!0;falseValue=!1;ariaLabel;ariaLabelledBy;autofocus;onChange=new F;input;modelValue=!1;focused=!1;onModelChange=()=>{};onModelTouched=()=>{};constructor(e){this.cd=e}onClick(e){!this.disabled&&!this.readonly&&(this.modelValue=this.checked()?this.falseValue:this.trueValue,this.onModelChange(this.modelValue),this.onChange.emit({originalEvent:e,checked:this.modelValue}),this.input.nativeElement.focus())}onFocus(){this.focused=!0}onBlur(){this.focused=!1,this.onModelTouched()}writeValue(e){this.modelValue=e,this.cd.markForCheck()}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e,this.cd.markForCheck()}checked(){return this.modelValue===this.trueValue}static \u0275fac=function(i){return new(i||t)(V(le))};static \u0275cmp=_({type:t,selectors:[["p-inputSwitch"]],viewQuery:function(i,n){if(i&1&&Se(Li,5),i&2){let o;X(o=z())&&(n.input=o.first)}},hostAttrs:[1,"p-element"],inputs:{style:"style",styleClass:"styleClass",tabindex:[2,"tabindex","tabindex",re],inputId:"inputId",name:"name",disabled:[2,"disabled","disabled",N],readonly:[2,"readonly","readonly",N],trueValue:"trueValue",falseValue:"falseValue",ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",autofocus:[2,"autofocus","autofocus",N]},outputs:{onChange:"onChange"},features:[oe([Fi]),ne],decls:5,vars:23,consts:[["input",""],[3,"click","ngClass","ngStyle"],[1,"p-hidden-accessible"],["type","checkbox","role","switch","pAutoFocus","",3,"focus","blur","checked","disabled","autofocus"],[1,"p-inputswitch-slider"]],template:function(i,n){if(i&1){let o=C();a(0,"div",1),f("click",function(p){return h(o),y(n.onClick(p))}),a(1,"div",2)(2,"input",3,0),f("focus",function(){return h(o),y(n.onFocus())})("blur",function(){return h(o),y(n.onBlur())}),l()(),v(4,"span",4),l()}i&2&&(Q(n.styleClass),d("ngClass",he(19,Di,n.checked(),n.disabled,n.focused))("ngStyle",n.style),b("data-pc-name","inputswitch")("data-pc-section","root"),s(),b("data-pc-section","hiddenInputWrapper")("data-p-hidden-accessible",!0),s(),d("checked",n.checked())("disabled",n.disabled)("autofocus",n.autofocus),b("id",n.inputId)("aria-checked",n.checked())("aria-labelledby",n.ariaLabelledBy)("aria-label",n.ariaLabel)("name",n.name)("tabindex",n.tabindex)("data-pc-section","hiddenInput"),s(2),b("data-pc-section","slider"))},dependencies:[W,se,Ee],styles:[`@layer primeng{.p-inputswitch{position:relative;display:inline-block;-webkit-user-select:none;user-select:none}.p-inputswitch-slider{position:absolute;cursor:pointer;inset:0;border:1px solid transparent}.p-inputswitch-slider:before{position:absolute;content:"";top:50%}}
`],encapsulation:2,changeDetection:0})}return t})(),Wt=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=E({type:t});static \u0275inj=k({imports:[P,Pe]})}return t})();var Oi=()=>({width:"25rem",height:"25rem"}),Bi=()=>({background:"rgb(0 0 0 / 44%)"});function ji(t,r){if(t&1){let e=C();a(0,"p-button",12),f("onClick",function(){h(e);let n=m();return y(n.toggleModelChange.emit(!1))}),l(),a(1,"p-button",13),f("onClick",function(){h(e);let n=m();return y(n.onSave())}),l()}if(t&2){let e=m();d("text",!0),s(),d("outlined",!0)("disabled",!e.playlistName||!e.description)}}var Rt=(()=>{let r=class r{constructor(){this.toggleModel=ue.required(),this.toggleModelChange=be(),this.playlistName="",this.description="",this.makeItPublic=!1,this.playlist=ue(),this.isCreateMode=Te(()=>!this.playlist()),this.spotify=I(R),this.toastService=I(Z)}ngOnInit(){console.log("createddddddd");let i=this.playlist();i&&(this.playlistName=i.name,this.description=i.description||"",this.makeItPublic=i.public)}onSave(){return w(this,null,function*(){let i=yield Me(()=>w(this,null,function*(){if(this.isCreateMode())yield this.spotify.createPlaylist(this.playlistName,this.makeItPublic,this.description);else{let n=this.playlist();if(!n)throw new ToastError("Unable to find the playlist");yield this.spotify.updatePlaylist(n.id,this.playlistName,this.makeItPublic,this.description)}}));_t(i)||(this.toastService.add({severity:"success",summary:"Success",detail:"Playlist created successfully"}),this.toggleModelChange.emit(!1))})}};r.\u0275fac=function(n){return new(n||r)},r.\u0275cmp=_({type:r,selectors:[["app-new-playlist"]],inputs:{toggleModel:[1,"toggleModel"],playlist:[1,"playlist"]},outputs:{toggleModelChange:"toggleModelChange"},standalone:!0,features:[G],decls:16,vars:12,consts:[[3,"visibleChange","visible","closeOnEscape","header","dismissableMask","maskStyle"],[1,"pt-6"],[1,""],["pInputText","","id","name","type","text","autocomplete","false",1,"w-full",3,"ngModelChange","ngModel"],["for","name"],[1,"pt-8"],["pInputText","","id","description","autocomplete","false",1,"w-full",3,"ngModelChange","ngModel"],["for","description"],[1,"pt-8","flex","items-center"],[1,"mr-5"],[3,"ngModelChange","ngModel"],["pTemplate","footer"],["label","Cancel","severity","secondary",3,"onClick","text"],["label","Save","severity","secondary",3,"onClick","outlined","disabled"]],template:function(n,o){n&1&&(a(0,"p-dialog",0),f("visibleChange",function(){return o.toggleModelChange.emit(!1)}),a(1,"div",1)(2,"p-floatLabel",2)(3,"input",3),M("ngModelChange",function(p){return x(o.playlistName,p)||(o.playlistName=p),p}),l(),a(4,"label",4),u(5,"playlist name"),l()()(),a(6,"div",5)(7,"p-floatLabel")(8,"input",6),M("ngModelChange",function(p){return x(o.description,p)||(o.description=p),p}),l(),a(9,"label",7),u(10,"Description"),l()()(),a(11,"div",8)(12,"span",9),u(13,"Make It Public?"),l(),a(14,"p-inputSwitch",10),M("ngModelChange",function(p){return x(o.makeItPublic,p)||(o.makeItPublic=p),p}),l()(),g(15,ji,2,3,"ng-template",11),l()),n&2&&(nt(ae(10,Oi)),d("visible",o.toggleModel())("closeOnEscape",!0)("header",o.isCreateMode()?"Create New Playlist":"Edit Playlist")("dismissableMask",!0)("maskStyle",ae(11,Bi)),s(3),T("ngModel",o.playlistName),s(5),T("ngModel",o.description),s(6),T("ngModel",o.makeItPublic))},dependencies:[Oe,Pt,O,Y,q,Ne,Fe,de,vt,Le,De,Ge,Ae,Wt,Je],encapsulation:2});let t=r;return t})();var Ai=()=>({"min-width":"50rem"}),Gi=()=>["name","description","representative.name","status"],Wi=t=>["/home/playlist",t];function Ri(t,r){if(t&1){let e=C();a(0,"div",7)(1,"div")(2,"p-button",8),f("onClick",function(){h(e);let n=m();return y(n.newPlaylistModel=!0)}),l(),a(3,"p-button",9),f("onClick",function(){h(e);let n=m();return y(n.deleteSelectedPlaylists())}),l()(),a(4,"div")(5,"p-iconField",10)(6,"p-inputIcon"),v(7,"i",11),l(),a(8,"input",12),f("input",function(n){h(e);let o=m(),c=$(1);return y(c.filterGlobal(o.getEventVal(n),"contains"))}),l()()()()}if(t&2){let e=m();s(2),d("raised",!0),s(),d("raised",!0)("disabled",!e.selectedProduct||!e.selectedProduct.length)}}function Qi(t,r){t&1&&(a(0,"tr")(1,"th",13),v(2,"p-tableHeaderCheckbox"),l(),a(3,"th",14),u(4,"Name"),l(),a(5,"th",14),u(6,"Description"),l(),v(7,"th",13),l())}function Hi(t,r){if(t&1){let e=C();a(0,"tr")(1,"td"),v(2,"p-tableCheckbox",15),l(),a(3,"td",16)(4,"a",17),u(5),l()(),a(6,"td",18),u(7),l(),a(8,"td",19)(9,"i",20),f("click",function(){let n=h(e).$implicit,o=m();return y(o.setUpdateItem(n))}),l(),a(10,"button",21),f("click",function(){let n=h(e).$implicit,o=m();return y(o.deletePlaylist(n))}),l()()()}if(t&2){let e=r.$implicit,i=m();s(2),d("value",e)("disabled",e.owner.id!==i.userId),s(2),d("routerLink",we(6,Wi,e.id)),s(),ee(e.name),s(2),ee(e.description),s(3),d("disabled",e.owner.id!==i.userId)}}function Ui(t,r){if(t&1){let e=C();a(0,"app-playlist-options",22),f("onComplete",function(){h(e);let n=m();return y(n.closeSidebar())}),l()}if(t&2){let e=m();d("playlist",e.modPlaylist)}}function Xi(t,r){if(t&1){let e=C();a(0,"app-new-playlist",23),M("toggleModelChange",function(n){h(e);let o=m();return x(o.newPlaylistModel,n)||(o.newPlaylistModel=n),y(n)}),l()}if(t&2){let e=m();T("toggleModel",e.newPlaylistModel)}}var _a=(()=>{let r=class r{constructor(){this.toastService=I(Z),this.confirmService=I(ke),this.userPlaylists=[],this.spotify=I(R),this.genreSidebar=!1,this.showSpinner=te(),this.newPlaylistModel=!1,this.selectedProduct=[],this.rowSelectable=this.rowSelectable.bind(this)}rowSelectable(i){return i.data.owner.id===this.userId}fetchUserPlaylists(){return w(this,null,function*(){let i=yield this.spotify.getUser();if(!i)return this.toastService.add({severity:"error",summary:"Failed",detail:"Unable to fetch user"});this.userId=i.id;let n=yield this.spotify.fetchUserAllPlaylists();if(ie(n))return this.toastService.add({severity:"error",summary:"Failed",detail:n.error});this.userPlaylists=n.result})}setUpdateItem(i){this.modPlaylist=i}ngOnInit(){return w(this,null,function*(){this.fetchUserPlaylists()})}deletePlaylist(i){return w(this,null,function*(){let n=yield this.spotify.getUser();if(i.owner.id!==n?.id)return this.toastService.add({severity:"error",summary:"Error",detail:"You are no the owner of this playlist"});this.confirmService.confirm({header:"Confirmation",message:"Are you sure you wanna delete?",icon:"pi pi-exclamation-triangle",rejectButtonStyleClass:"bg-none",accept:()=>{this.spotify.deletePlaylist(i.id),this.toastService.add({severity:"success",summary:"Success",detail:"Playlist deleted successfully"}),this.closeSidebar()}})})}closeSidebar(){this.modPlaylist=void 0,this.fetchUserPlaylists()}filteredGenre(i){this.modPlaylist=i,this.genreSidebar=!0}deleteSelectedPlaylists(){return w(this,null,function*(){this.confirmService.confirm({header:"Confirmation",message:`Are you sure you wanna delete <bold>${this.selectedProduct.length}</bold> playlists ?`,icon:"pi pi-exclamation-triangle",rejectButtonStyleClass:"bg-none",accept:()=>w(this,null,function*(){let i=yield this.spotify.deletePlaylists(this.selectedProduct);if(ie(i))return this.toastService.add({severity:"error",summary:"Failed",detail:i.error});this.toastService.add({severity:"error",summary:"Failed",detail:"Playlists Deleted Successfully"}),this.fetchUserPlaylists()})})})}getEventVal(i){return i.target.value}closeGenre(){throw new Error("Method not implemented.")}};r.\u0275fac=function(n){return new(n||r)},r.\u0275cmp=_({type:r,selectors:[["app-playlist-card"]],standalone:!0,features:[G],decls:7,vars:13,consts:[["dt2",""],["stateStorage","local","resizableColumns","true",3,"selectionChange","value","styleClass","tableStyle","scrollable","scrollHeight","virtualScroll","globalFilterFields","selection","rowSelectable"],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],[3,"playlist"],[3,"toggleModel"],[1,"flex","justify-between"],["severity","success","label","New","icon","pi pi-plus",1,"mr-2",3,"onClick","raised"],["severity","danger","label","Delete","icon","pi pi-trash",3,"onClick","raised","disabled"],["iconPosition","left",1,"ml-auto"],[1,"pi","pi-search"],["pInputText","","type","text","placeholder","Search keyword",3,"input"],[2,"width","4rem"],["pResizableColumn",""],[3,"value","disabled"],[1,"max-w-24","truncate"],[3,"routerLink"],[1,"max-w-96","truncate"],[1,"max-w-20","py-0","flex","items-center","justify-around"],["tabindex","0",1,"pi","pi-ellipsis-v","cursor-pointer",3,"click"],["pButton","","pRipple","","type","button","icon","pi pi-trash",1,"p-button-rounded","p-button-text","p-button-danger","h-fit",3,"click","disabled"],[3,"onComplete","playlist"],[3,"toggleModelChange","toggleModel"]],template:function(n,o){if(n&1){let c=C();a(0,"p-table",1,0),M("selectionChange",function(S){return h(c),x(o.selectedProduct,S)||(o.selectedProduct=S),y(S)}),g(2,Ri,9,3,"ng-template",2)(3,Qi,8,0,"ng-template",3)(4,Hi,11,8,"ng-template",4),l(),g(5,Ui,1,1,"app-playlist-options",5)(6,Xi,1,1,"app-new-playlist",6)}n&2&&(d("value",o.userPlaylists)("styleClass","p-datatable-sm p-datatable-gridlines p-datatable-striped")("tableStyle",ae(11,Ai))("scrollable",!0)("scrollHeight","calc(100vh - 125px)")("virtualScroll",!0)("globalFilterFields",ae(12,Gi)),T("selection",o.selectedProduct),d("rowSelectable",o.rowSelectable),s(5),U(o.modPlaylist?5:-1),s(),U(o.newPlaylistModel?6:-1))},dependencies:[mt,K,O,Et,xt,Mt,kt,It,Vt,Dt,Lt,Nt,Ft,Ot,Y,gt,q,Gt,Rt],encapsulation:2});let t=r;return t})();export{_a as PlayListCardComponent};
