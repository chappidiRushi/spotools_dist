import{I as at,J as it,_ as C,aa as P,b as se,ba as nt,d as Ze,f as Ye,g as Xe,h as et,j as tt,w as Se,x as st}from"./chunk-VHKL7FW4.js";import{Aa as De,Ab as We,Bb as Je,Db as Ge,Eb as Ke,Gb as ve,Hb as Te,Ob as T,Qb as Re,Sa as h,Ta as X,U as Oe,V as G,_ as K,a as S,ab as Ne,b as J,bb as q,c as ht,ca as x,cb as L,da as Q,e as n,ea as Z,f as U,fb as I,gb as f,hb as u,jb as je,kc as d,lb as v,lc as Qe,na as E,oa as $,qb as g,rb as y,rc as O,sb as w,tb as ee,ua as M,ub as te,vb as ze,wa as Y,xb as Ve,yb as b,zb as He}from"./chunk-IHLDKJ5M.js";var At={APP_NAME:"Spotools",BASE_URL:"http://localhost:3000",PLAYLIST_WARN_SIZE:500},Ie;function dt(){return Ie===void 0&&(Ie=Ne(!1)),Ie}function _e(i){return n(this,null,function*(){let t=dt();try{return t.set(!0),{result:yield i(),error:null}}catch(e){let s="Unknown Error occurred";return e instanceof Error?s=e.message:typeof e=="string"?s=e:typeof e=="object"&&e!==null&&(s=JSON.stringify(e)),{error:s,result:null}}finally{t.set(!1)}})}function Et(i){return i.error!==null}var rt=(()=>{class i{autofocus=!1;focused=!1;platformId=K(De);document=K(se);host=K(M);ngAfterContentChecked(){this.autofocus===!1?this.host.nativeElement.removeAttribute("autofocus"):this.host.nativeElement.setAttribute("autofocus",!0),this.focused||this.autoFocus()}ngAfterViewChecked(){this.focused||this.autoFocus()}autoFocus(){tt(this.platformId)&&this.autofocus&&setTimeout(()=>{let e=C.getFocusableElements(this.host?.nativeElement);e.length===0&&this.host.nativeElement.focus(),e.length>0&&e[0].focus(),this.focused=!0})}static \u0275fac=function(s){return new(s||i)};static \u0275dir=Z({type:i,selectors:[["","pAutoFocus",""]],hostAttrs:[1,"p-element"],inputs:{autofocus:[2,"autofocus","autofocus",d]},standalone:!0,features:[L]})}return i})(),Dt=(()=>{class i{static \u0275fac=function(s){return new(s||i)};static \u0275mod=Q({type:i});static \u0275inj=G({})}return i})();var ot=(()=>{class i extends P{pathId;ngOnInit(){this.pathId="url(#"+st()+")"}static \u0275fac=(()=>{let e;return function(a){return(e||(e=$(i)))(a||i)}})();static \u0275cmp=x({type:i,selectors:[["SpinnerIcon"]],standalone:!0,features:[q,T],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M6.99701 14C5.85441 13.999 4.72939 13.7186 3.72012 13.1832C2.71084 12.6478 1.84795 11.8737 1.20673 10.9284C0.565504 9.98305 0.165424 8.89526 0.041387 7.75989C-0.0826496 6.62453 0.073125 5.47607 0.495122 4.4147C0.917119 3.35333 1.59252 2.4113 2.46241 1.67077C3.33229 0.930247 4.37024 0.413729 5.4857 0.166275C6.60117 -0.0811796 7.76026 -0.0520535 8.86188 0.251112C9.9635 0.554278 10.9742 1.12227 11.8057 1.90555C11.915 2.01493 11.9764 2.16319 11.9764 2.31778C11.9764 2.47236 11.915 2.62062 11.8057 2.73C11.7521 2.78503 11.688 2.82877 11.6171 2.85864C11.5463 2.8885 11.4702 2.90389 11.3933 2.90389C11.3165 2.90389 11.2404 2.8885 11.1695 2.85864C11.0987 2.82877 11.0346 2.78503 10.9809 2.73C9.9998 1.81273 8.73246 1.26138 7.39226 1.16876C6.05206 1.07615 4.72086 1.44794 3.62279 2.22152C2.52471 2.99511 1.72683 4.12325 1.36345 5.41602C1.00008 6.70879 1.09342 8.08723 1.62775 9.31926C2.16209 10.5513 3.10478 11.5617 4.29713 12.1803C5.48947 12.7989 6.85865 12.988 8.17414 12.7157C9.48963 12.4435 10.6711 11.7264 11.5196 10.6854C12.3681 9.64432 12.8319 8.34282 12.8328 7C12.8328 6.84529 12.8943 6.69692 13.0038 6.58752C13.1132 6.47812 13.2616 6.41667 13.4164 6.41667C13.5712 6.41667 13.7196 6.47812 13.8291 6.58752C13.9385 6.69692 14 6.84529 14 7C14 8.85651 13.2622 10.637 11.9489 11.9497C10.6356 13.2625 8.85432 14 6.99701 14Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(s,a){s&1&&(E(),g(0,"svg",0)(1,"g"),w(2,"path",1),y(),g(3,"defs")(4,"clipPath",2),w(5,"rect",3),y()()()),s&2&&(v(a.getClassNames()),f("aria-label",a.ariaLabel)("aria-hidden",a.ariaHidden)("role",a.role),h(),f("clip-path",a.pathId),h(3),u("id",a.pathId))},encapsulation:2})}return i})();var mt=["*"],ct=i=>({class:i});function ft(i,t){i&1&&ze(0)}function gt(i,t){if(i&1&&w(0,"span",8),i&2){let e=b(3);u("ngClass",e.iconClass()),f("aria-hidden",!0)("data-pc-section","loadingicon")}}function yt(i,t){if(i&1&&w(0,"SpinnerIcon",9),i&2){let e=b(3);u("styleClass",e.spinnerIconClass())("spin",!0),f("aria-hidden",!0)("data-pc-section","loadingicon")}}function wt(i,t){if(i&1&&(ee(0),I(1,gt,1,3,"span",6)(2,yt,1,4,"SpinnerIcon",7),te()),i&2){let e=b(2);h(),u("ngIf",e.loadingIcon),h(),u("ngIf",!e.loadingIcon)}}function bt(i,t){}function Ct(i,t){if(i&1&&I(0,bt,0,0,"ng-template",10),i&2){let e=b(2);u("ngIf",e.loadingIconTemplate)}}function kt(i,t){if(i&1&&(ee(0),I(1,wt,3,2,"ng-container",2)(2,Ct,1,1,null,5),te()),i&2){let e=b();h(),u("ngIf",!e.loadingIconTemplate),h(),u("ngTemplateOutlet",e.loadingIconTemplate)("ngTemplateOutletContext",Re(3,ct,e.iconClass()))}}function xt(i,t){if(i&1&&w(0,"span",8),i&2){let e=b(2);u("ngClass",e.iconClass()),f("data-pc-section","icon")}}function vt(i,t){}function Tt(i,t){if(i&1&&I(0,vt,0,0,"ng-template",10),i&2){let e=b(2);u("ngIf",!e.icon&&e.iconTemplate)}}function Rt(i,t){if(i&1&&(ee(0),I(1,xt,1,2,"span",6)(2,Tt,1,1,null,5),te()),i&2){let e=b();h(),u("ngIf",e.icon&&!e.iconTemplate),h(),u("ngTemplateOutlet",e.iconTemplate)("ngTemplateOutletContext",Re(3,ct,e.iconClass()))}}function St(i,t){if(i&1&&(g(0,"span",11),ve(1),y()),i&2){let e=b();f("aria-hidden",e.icon&&!e.label)("data-pc-section","label"),h(),Te(e.label)}}function It(i,t){if(i&1&&(g(0,"span",8),ve(1),y()),i&2){let e=b();v(e.badgeClass),u("ngClass",e.badgeStyleClass()),f("data-pc-section","badge"),h(),Te(e.badge)}}var R={button:"p-button",component:"p-component",iconOnly:"p-button-icon-only",disabled:"p-disabled",loading:"p-button-loading",labelOnly:"p-button-loading-label-only"},cs=(()=>{class i{el;document;iconPos="left";loadingIcon;get label(){return this._label}set label(e){this._label=e,this.initialized&&(this.updateLabel(),this.updateIcon(),this.setStyleClass())}get icon(){return this._icon}set icon(e){this._icon=e,this.initialized&&(this.updateIcon(),this.setStyleClass())}get loading(){return this._loading}set loading(e){this._loading=e,this.initialized&&(this.updateIcon(),this.setStyleClass())}severity;raised=!1;rounded=!1;text=!1;outlined=!1;size=null;plain=!1;_label;_icon;_loading=!1;initialized;get htmlElement(){return this.el.nativeElement}_internalClasses=Object.values(R);constructor(e,s){this.el=e,this.document=s}ngAfterViewInit(){C.addMultipleClasses(this.htmlElement,this.getStyleClass().join(" ")),this.createIcon(),this.createLabel(),this.initialized=!0}getStyleClass(){let e=[R.button,R.component];return this.icon&&!this.label&&Se.isEmpty(this.htmlElement.textContent)&&e.push(R.iconOnly),this.loading&&(e.push(R.disabled,R.loading),!this.icon&&this.label&&e.push(R.labelOnly),this.icon&&!this.label&&!Se.isEmpty(this.htmlElement.textContent)&&e.push(R.iconOnly)),this.text&&e.push("p-button-text"),this.severity&&e.push(`p-button-${this.severity}`),this.plain&&e.push("p-button-plain"),this.raised&&e.push("p-button-raised"),this.size&&e.push(`p-button-${this.size}`),this.outlined&&e.push("p-button-outlined"),this.rounded&&e.push("p-button-rounded"),this.size==="small"&&e.push("p-button-sm"),this.size==="large"&&e.push("p-button-lg"),e}setStyleClass(){let e=this.getStyleClass();this.htmlElement.classList.remove(...this._internalClasses),this.htmlElement.classList.add(...e)}createLabel(){if(!C.findSingle(this.htmlElement,".p-button-label")&&this.label){let s=this.document.createElement("span");this.icon&&!this.label&&s.setAttribute("aria-hidden","true"),s.className="p-button-label",s.appendChild(this.document.createTextNode(this.label)),this.htmlElement.appendChild(s)}}createIcon(){if(!C.findSingle(this.htmlElement,".p-button-icon")&&(this.icon||this.loading)){let s=this.document.createElement("span");s.className="p-button-icon",s.setAttribute("aria-hidden","true");let a=this.label?"p-button-icon-"+this.iconPos:null;a&&C.addClass(s,a);let r=this.getIconClass();r&&C.addMultipleClasses(s,r),this.htmlElement.insertBefore(s,this.htmlElement.firstChild)}}updateLabel(){let e=C.findSingle(this.htmlElement,".p-button-label");if(!this.label){e&&this.htmlElement.removeChild(e);return}e?e.textContent=this.label:this.createLabel()}updateIcon(){let e=C.findSingle(this.htmlElement,".p-button-icon"),s=C.findSingle(this.htmlElement,".p-button-label");e?this.iconPos?e.className="p-button-icon "+(s?"p-button-icon-"+this.iconPos:"")+" "+this.getIconClass():e.className="p-button-icon "+this.getIconClass():this.createIcon()}getIconClass(){return this.loading?"p-button-loading-icon pi-spin "+(this.loadingIcon??"pi pi-spinner"):this.icon||"p-hidden"}ngOnDestroy(){this.initialized=!1}static \u0275fac=function(s){return new(s||i)(X(M),X(se))};static \u0275dir=Z({type:i,selectors:[["","pButton",""]],hostAttrs:[1,"p-element"],inputs:{iconPos:"iconPos",loadingIcon:"loadingIcon",label:"label",icon:"icon",loading:"loading",severity:"severity",raised:[2,"raised","raised",d],rounded:[2,"rounded","rounded",d],text:[2,"text","text",d],outlined:[2,"outlined","outlined",d],size:"size",plain:[2,"plain","plain",d]},standalone:!0,features:[L]})}return i})(),_t=(()=>{class i{el;type="button";iconPos="left";icon;badge;label;disabled;loading=!1;loadingIcon;raised=!1;rounded=!1;text=!1;plain=!1;severity;outlined=!1;link=!1;tabindex;size;style;styleClass;badgeClass;ariaLabel;autofocus;onClick=new Y;onFocus=new Y;onBlur=new Y;contentTemplate;loadingIconTemplate;iconTemplate;templates;constructor(e){this.el=e}spinnerIconClass(){return Object.entries(this.iconClass()).filter(([,e])=>!!e).reduce((e,[s])=>e+` ${s}`,"p-button-loading-icon")}iconClass(){let e={"p-button-icon":!0,"p-button-icon-left":this.iconPos==="left"&&this.label,"p-button-icon-right":this.iconPos==="right"&&this.label,"p-button-icon-top":this.iconPos==="top"&&this.label,"p-button-icon-bottom":this.iconPos==="bottom"&&this.label};return this.loading?e[`p-button-loading-icon pi-spin ${this.loadingIcon??""}`]=!0:this.icon&&(e[this.icon]=!0),e}get buttonClass(){return{"p-button p-component":!0,"p-button-icon-only":(this.icon||this.iconTemplate||this.loadingIcon||this.loadingIconTemplate)&&!this.label,"p-button-vertical":(this.iconPos==="top"||this.iconPos==="bottom")&&this.label,"p-button-loading":this.loading,"p-button-loading-label-only":this.loading&&!this.icon&&this.label&&!this.loadingIcon&&this.iconPos==="left","p-button-link":this.link,[`p-button-${this.severity}`]:this.severity,"p-button-raised":this.raised,"p-button-rounded":this.rounded,"p-button-text":this.text,"p-button-outlined":this.outlined,"p-button-sm":this.size==="small","p-button-lg":this.size==="large","p-button-plain":this.plain,[`${this.styleClass}`]:this.styleClass}}ngAfterContentInit(){this.templates?.forEach(e=>{switch(e.getType()){case"content":this.contentTemplate=e.template;break;case"icon":this.iconTemplate=e.template;break;case"loadingicon":this.loadingIconTemplate=e.template;break;default:this.contentTemplate=e.template;break}})}badgeStyleClass(){return{"p-badge p-component":!0,"p-badge-no-gutter":this.badge&&String(this.badge).length===1}}static \u0275fac=function(s){return new(s||i)(X(M))};static \u0275cmp=x({type:i,selectors:[["p-button"]],contentQueries:function(s,a,r){if(s&1&&Je(r,at,4),s&2){let o;Ge(o=Ke())&&(a.templates=o)}},hostAttrs:[1,"p-element"],hostVars:2,hostBindings:function(s,a){s&2&&je("p-disabled",a.disabled)},inputs:{type:"type",iconPos:"iconPos",icon:"icon",badge:"badge",label:"label",disabled:[2,"disabled","disabled",d],loading:[2,"loading","loading",d],loadingIcon:"loadingIcon",raised:[2,"raised","raised",d],rounded:[2,"rounded","rounded",d],text:[2,"text","text",d],plain:[2,"plain","plain",d],severity:"severity",outlined:[2,"outlined","outlined",d],link:[2,"link","link",d],tabindex:[2,"tabindex","tabindex",Qe],size:"size",style:"style",styleClass:"styleClass",badgeClass:"badgeClass",ariaLabel:"ariaLabel",autofocus:[2,"autofocus","autofocus",d]},outputs:{onClick:"onClick",onFocus:"onFocus",onBlur:"onBlur"},standalone:!0,features:[L,T],ngContentSelectors:mt,decls:7,vars:14,consts:[["pRipple","","pAutoFocus","",3,"click","focus","blur","ngStyle","disabled","ngClass","autofocus"],[4,"ngTemplateOutlet"],[4,"ngIf"],["class","p-button-label",4,"ngIf"],[3,"ngClass","class",4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"ngClass",4,"ngIf"],[3,"styleClass","spin",4,"ngIf"],[3,"ngClass"],[3,"styleClass","spin"],[3,"ngIf"],[1,"p-button-label"]],template:function(s,a){s&1&&(He(),g(0,"button",0),Ve("click",function(o){return a.onClick.emit(o)})("focus",function(o){return a.onFocus.emit(o)})("blur",function(o){return a.onBlur.emit(o)}),We(1),I(2,ft,1,0,"ng-container",1)(3,kt,3,5,"ng-container",2)(4,Rt,3,5,"ng-container",2)(5,St,2,3,"span",3)(6,It,2,5,"span",4),y()),s&2&&(u("ngStyle",a.style)("disabled",a.disabled||a.loading)("ngClass",a.buttonClass)("autofocus",a.autofocus),f("type",a.type)("aria-label",a.ariaLabel)("data-pc-name","button")("data-pc-section","root")("tabindex",a.tabindex),h(2),u("ngTemplateOutlet",a.contentTemplate),h(),u("ngIf",a.loading),h(),u("ngIf",!a.loading),h(),u("ngIf",!a.contentTemplate&&a.label),h(),u("ngIf",!a.contentTemplate&&a.badge))},dependencies:[Ye,et,Xe,Ze,nt,rt,ot],encapsulation:2,changeDetection:0})}return i})(),ls=(()=>{class i{static \u0275fac=function(s){return new(s||i)};static \u0275mod=Q({type:i});static \u0275inj=G({imports:[_t,it]})}return i})();var c=class{api;constructor(t){this.api=t}getRequest(t){return n(this,null,function*(){return yield this.api.makeRequest("GET",t)})}postRequest(t,e,s=void 0){return n(this,null,function*(){return yield this.api.makeRequest("POST",t,e,s)})}putRequest(t,e,s=void 0){return n(this,null,function*(){return yield this.api.makeRequest("PUT",t,e,s)})}deleteRequest(t,e){return n(this,null,function*(){return yield this.api.makeRequest("DELETE",t,e)})}paramsFor(t){let e=new URLSearchParams;for(let s of Object.getOwnPropertyNames(t))(t[s]||t[s]===0||!t[s]&&typeof t[s]=="boolean")&&e.append(s,t[s].toString());return[...e].length>0?`?${e.toString()}`:""}};var ae=class extends c{get(t,e){return n(this,null,function*(){if(typeof t=="string"){let r=this.paramsFor({market:e});return yield this.getRequest(`albums/${t}${r}`)}let s=this.paramsFor({ids:t,market:e});return(yield this.getRequest(`albums${s}`)).albums})}tracks(t,e,s,a){let r=this.paramsFor({market:e,limit:s,offset:a});return this.getRequest(`albums/${t}/tracks${r}`)}};var ie=class extends c{get(t){return n(this,null,function*(){if(typeof t=="string")return this.getRequest(`artists/${t}`);let e=this.paramsFor({ids:t});return(yield this.getRequest(`artists${e}`)).artists})}albums(t,e,s,a,r){let o=this.paramsFor({include_groups:e,market:s,limit:a,offset:r});return this.getRequest(`artists/${t}/albums${o}`)}topTracks(t,e){let s=this.paramsFor({market:e});return this.getRequest(`artists/${t}/top-tracks${s}`)}relatedArtists(t){return this.getRequest(`artists/${t}/related-artists`)}};var ne=class extends c{get(t,e){return n(this,null,function*(){if(typeof t=="string"){let r=this.paramsFor({market:e});return this.getRequest(`audiobooks/${t}${r}`)}let s=this.paramsFor({ids:t,market:e});return(yield this.getRequest(`audiobooks${s}`)).audiobooks})}getAudiobookChapters(t,e,s,a){let r=this.paramsFor({market:e,limit:s,offset:a});return this.getRequest(`audiobooks/${t}/chapters${r}`)}};var re=class extends c{getCategories(t,e,s,a){let r=this.paramsFor({country:t,locale:e,limit:s,offset:a});return this.getRequest(`browse/categories${r}`)}getCategory(t,e,s){let a=this.paramsFor({country:e,locale:s});return this.getRequest(`browse/categories/${t}${a}`)}getNewReleases(t,e,s){let a=this.paramsFor({country:t,limit:e,offset:s});return this.getRequest(`browse/new-releases${a}`)}getFeaturedPlaylists(t,e,s,a,r){let o=this.paramsFor({country:t,locale:e,timestamp:s,limit:a,offset:r});return this.getRequest(`browse/featured-playlists${o}`)}getPlaylistsForCategory(t,e,s,a){let r=this.paramsFor({country:e,limit:s,offset:a});return this.getRequest(`browse/categories/${t}/playlists${r}`)}};var oe=class extends c{get(t,e){return n(this,null,function*(){if(typeof t=="string"){let r=this.paramsFor({market:e});return this.getRequest(`chapters/${t}${r}`)}let s=this.paramsFor({ids:t,market:e});return(yield this.getRequest(`chapters${s}`)).chapters})}};var ce=class extends c{get(t,e){return n(this,null,function*(){if(typeof t=="string"){let r=this.paramsFor({market:e});return this.getRequest(`episodes/${t}${r}`)}let s=this.paramsFor({ids:t,market:e});return(yield this.getRequest(`episodes${s}`)).episodes})}};var le=class extends c{get(t){let e=this.paramsFor(t);return this.getRequest(`recommendations${e}`)}genreSeeds(){return this.getRequest("recommendations/available-genre-seeds")}};var ue=class extends c{getAvailableMarkets(){return this.getRequest("markets")}};var pe=class extends c{getPlaybackState(t,e){let s=this.paramsFor({market:t,additional_types:e});return this.getRequest(`me/player${s}`)}getAvailableDevices(){return this.getRequest("me/player/devices")}getCurrentlyPlayingTrack(t,e){let s=this.paramsFor({market:t,additional_types:e});return this.getRequest(`me/player/currently-playing${s}`)}getRecentlyPlayedTracks(t,e){let s={limit:t};e&&(e.type==="before"?s.before=e.timestamp:e.type==="after"&&(s.after=e.timestamp));let a=this.paramsFor(s);return this.getRequest(`me/player/recently-played${a}`)}getUsersQueue(){return this.getRequest("me/player/queue")}transferPlayback(t,e){return n(this,null,function*(){if(t.length>1)throw new Error("Although an array is accepted, only a single device_id is currently supported. Supplying more than one will return 400 Bad Request");yield this.putRequest("me/player",{device_ids:t,play:e})})}startResumePlayback(t,e,s,a,r){return n(this,null,function*(){let o=this.paramsFor({device_id:t});yield this.putRequest(`me/player/play${o}`,{context_uri:e,uris:s,offset:a,positionMs:r})})}pausePlayback(t){return n(this,null,function*(){let e=this.paramsFor({device_id:t});yield this.putRequest(`me/player/pause${e}`)})}skipToNext(t){return n(this,null,function*(){let e=this.paramsFor({device_id:t});yield this.postRequest(`me/player/next${e}`)})}skipToPrevious(t){return n(this,null,function*(){let e=this.paramsFor({device_id:t});yield this.postRequest(`me/player/previous${e}`)})}seekToPosition(t,e){return n(this,null,function*(){let s=this.paramsFor({position_ms:t,device_id:e});yield this.putRequest(`me/player/seek${s}`)})}setRepeatMode(t,e){return n(this,null,function*(){let s=this.paramsFor({state:t,device_id:e});yield this.putRequest(`me/player/repeat${s}`)})}setPlaybackVolume(t,e){return n(this,null,function*(){let s=this.paramsFor({volume_percent:t,device_id:e});yield this.putRequest(`me/player/volume${s}`)})}togglePlaybackShuffle(t,e){return n(this,null,function*(){let s=this.paramsFor({state:t,device_id:e});yield this.putRequest(`me/player/shuffle${s}`)})}addItemToPlaybackQueue(t,e){return n(this,null,function*(){let s=this.paramsFor({uri:t,device_id:e});yield this.postRequest(`me/player/queue${s}`)})}};var he=class extends c{getPlaylist(t,e,s,a){let r=this.paramsFor({market:e,fields:s,additional_types:a?.join(",")});return this.getRequest(`playlists/${t}${r}`)}getPlaylistItems(t,e,s,a,r,o){let l=this.paramsFor({market:e,fields:s,limit:a,offset:r,additional_types:o?.join(",")});return this.getRequest(`playlists/${t}/tracks${l}`)}changePlaylistDetails(t,e){return n(this,null,function*(){yield this.putRequest(`playlists/${t}`,e)})}movePlaylistItems(t,e,s,a){return this.updatePlaylistItems(t,{range_start:e,range_length:s,insert_before:a})}updatePlaylistItems(t,e){return this.putRequest(`playlists/${t}/tracks`,e)}addItemsToPlaylist(t,e,s){return n(this,null,function*(){yield this.postRequest(`playlists/${t}/tracks`,{position:s,uris:e})})}removeItemsFromPlaylist(t,e){return n(this,null,function*(){yield this.deleteRequest(`playlists/${t}/tracks`,e)})}getUsersPlaylists(t,e,s){let a=this.paramsFor({limit:e,offset:s});return this.getRequest(`users/${t}/playlists${a}`)}createPlaylist(t,e){return this.postRequest(`users/${t}/playlists`,e)}getPlaylistCoverImage(t){return this.getRequest(`playlists/${t}/images`)}addCustomPlaylistCoverImage(t,e){return n(this,null,function*(){let s="";if(e instanceof Buffer)s=e.toString("base64");else if(e instanceof HTMLCanvasElement)s=e.toDataURL("image/jpeg").split(";base64,")[1];else if(e instanceof HTMLImageElement){let a=document.createElement("canvas");a.width=e.width,a.height=e.height;let r=a.getContext("2d");if(!r)throw new Error("Could not get canvas context");r.drawImage(e,0,0),s=a.toDataURL("image/jpeg").split(";base64,")[1]}else if(typeof e=="string")s=e;else throw new Error("ImageData must be a Buffer, HTMLImageElement, HTMLCanvasElement, or string containing a base64 encoded jpeg");yield this.addCustomPlaylistCoverImageFromBase64String(t,s)})}addCustomPlaylistCoverImageFromBase64String(t,e){return n(this,null,function*(){yield this.putRequest(`playlists/${t}/images`,e,"image/jpeg")})}};var de=class extends c{execute(t,e,s,a,r,o){return n(this,null,function*(){let l=this.paramsFor({q:t,type:e,market:s,limit:a,offset:r,include_external:o});return yield this.getRequest(`search${l}`)})}};var me=class extends c{get(t,e){return n(this,null,function*(){if(typeof t=="string"){let r=this.paramsFor({market:e});return this.getRequest(`shows/${t}${r}`)}let s=this.paramsFor({ids:t,market:e});return(yield this.getRequest(`shows${s}`)).shows})}episodes(t,e,s,a){let r=this.paramsFor({market:e,limit:s,offset:a});return this.getRequest(`shows/${t}/episodes${r}`)}};var fe=class extends c{get(t,e){return n(this,null,function*(){if(typeof t=="string"){let r=this.paramsFor({market:e});return this.getRequest(`tracks/${t}${r}`)}let s=this.paramsFor({ids:t,market:e});return(yield this.getRequest(`tracks${s}`)).tracks})}audioFeatures(t){return n(this,null,function*(){if(typeof t=="string")return this.getRequest(`audio-features/${t}`);let e=this.paramsFor({ids:t});return(yield this.getRequest(`audio-features${e}`)).audio_features})}audioAnalysis(t){return this.getRequest(`audio-analysis/${t}`)}};var B={access_token:"emptyAccessToken",token_type:"",expires_in:0,refresh_token:"",expires:-1};function _(i){return i===B}var ge=class extends c{profile(t){return this.getRequest(`users/${t}`)}};var ye=class extends c{albums;audiobooks;episodes;playlists;shows;tracks;constructor(t){super(t),this.albums=new Fe(t),this.audiobooks=new Ae(t),this.episodes=new Ee(t),this.playlists=new $e(t),this.shows=new qe(t),this.tracks=new Pe(t)}profile(){return this.getRequest("me")}topItems(t,e,s,a){let r=this.paramsFor({time_range:e,limit:s,offset:a});return this.getRequest(`me/top/${t}${r}`)}followedArtists(t,e){let s=this.paramsFor({type:"artist",after:t,limit:e});return this.getRequest(`me/following${s}`)}followArtistsOrUsers(t,e){return n(this,null,function*(){let s=this.paramsFor({type:e});yield this.putRequest(`me/following${s}`,{ids:t})})}unfollowArtistsOrUsers(t,e){return n(this,null,function*(){let s=this.paramsFor({type:e});yield this.deleteRequest(`me/following${s}`,{ids:t})})}followsArtistsOrUsers(t,e){let s=this.paramsFor({ids:t,type:e});return this.getRequest(`me/following/contains${s}`)}};var Fe=class extends c{savedAlbums(t,e,s){let a=this.paramsFor({limit:t,offset:e,market:s});return this.getRequest(`me/albums${a}`)}saveAlbums(t){return n(this,null,function*(){yield this.putRequest("me/albums",t)})}removeSavedAlbums(t){return n(this,null,function*(){yield this.deleteRequest("me/albums",t)})}hasSavedAlbums(t){let e=this.paramsFor({ids:t});return this.getRequest(`me/albums/contains${e}`)}},Ae=class extends c{savedAudiobooks(t,e){let s=this.paramsFor({limit:t,offset:e});return this.getRequest(`me/audiobooks${s}`)}saveAudiobooks(t){return n(this,null,function*(){yield this.putRequest("me/audiobooks",t)})}removeSavedAudiobooks(t){return n(this,null,function*(){yield this.deleteRequest("me/audiobooks",t)})}hasSavedAudiobooks(t){let e=this.paramsFor({ids:t});return this.getRequest(`me/audiobooks/contains${e}`)}},Ee=class extends c{savedEpisodes(t,e,s){let a=this.paramsFor({market:t,limit:e,offset:s});return this.getRequest(`me/episodes${a}`)}saveEpisodes(t){return n(this,null,function*(){yield this.putRequest("me/episodes",t)})}removeSavedEpisodes(t){return n(this,null,function*(){yield this.deleteRequest("me/episodes",t)})}hasSavedEpisodes(t){let e=this.paramsFor({ids:t});return this.getRequest(`me/episodes/contains${e}`)}},$e=class extends c{playlists(t,e){let s=this.paramsFor({limit:t,offset:e});return this.getRequest(`me/playlists${s}`)}follow(t){return n(this,null,function*(){yield this.putRequest(`playlists/${t}/followers`)})}unfollow(t){return n(this,null,function*(){yield this.deleteRequest(`playlists/${t}/followers`)})}isFollowing(t,e){let s=this.paramsFor({ids:e});return this.getRequest(`playlists/${t}/followers/contains${s}`)}},qe=class extends c{savedShows(t,e){let s=this.paramsFor({limit:t,offset:e});return this.getRequest(`me/shows${s}`)}saveShows(t){let e=this.paramsFor({ids:t});return this.putRequest(`me/shows${e}`)}removeSavedShows(t,e){let s=this.paramsFor({ids:t,market:e});return this.deleteRequest(`me/shows${s}`)}hasSavedShow(t){let e=this.paramsFor({ids:t});return this.getRequest(`me/shows/contains${e}`)}},Pe=class extends c{savedTracks(t,e,s){let a=this.paramsFor({limit:t,offset:e,market:s});return this.getRequest(`me/tracks${a}`)}saveTracks(t){return n(this,null,function*(){yield this.putRequest("me/tracks",t)})}removeSavedTracks(t){return n(this,null,function*(){yield this.deleteRequest("me/tracks",t)})}hasSavedTracks(t){let e=this.paramsFor({ids:t});return this.getRequest(`me/tracks/contains${e}`)}};var we=class{static get current(){return this.hasSubtleCrypto?window.crypto:this.tryLoadNodeWebCrypto()}static get hasSubtleCrypto(){return typeof window<"u"&&typeof window.crypto<"u"&&typeof window.crypto.subtle<"u"}static tryLoadNodeWebCrypto(){try{let{webcrypto:t}=ht("crypto");return t}catch(t){throw t}}};var m=class i{static refreshCachedAccessToken(t,e){return n(this,null,function*(){let s=yield i.refreshToken(t,e.refresh_token);return i.toCachable(s)})}static toCachable(t){return t.expires&&t.expires===-1?t:J(S({},t),{expires:this.calculateExpiry(t)})}static calculateExpiry(t){return Date.now()+t.expires_in*1e3}static refreshToken(t,e){return n(this,null,function*(){let s=new URLSearchParams;s.append("client_id",t),s.append("grant_type","refresh_token"),s.append("refresh_token",e);let a=yield fetch("https://accounts.spotify.com/api/token",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:s}),r=yield a.text();if(!a.ok)throw new Error(`Failed to refresh token: ${a.statusText}, ${r}`);return JSON.parse(r)})}static generateCodeVerifier(t){let e="",s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(let a=0;a<t;a++)e+=s.charAt(Math.floor(Math.random()*s.length));return e}static generateCodeChallenge(t){return n(this,null,function*(){let e=new TextEncoder().encode(t),s=yield we.current.subtle.digest("SHA-256",e),a=[...new Uint8Array(s)];return(typeof Buffer<"u"?Buffer.from(s).toString("base64"):btoa(String.fromCharCode.apply(null,a))).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")})}};var Be=(()=>{class i{clientId;clientSecret;scopes;static cacheKey="spotify-sdk:ClientCredentialsStrategy:token";configuration=null;get cache(){return this.configuration.cachingStrategy}constructor(e,s,a=[]){this.clientId=e,this.clientSecret=s,this.scopes=a}setConfiguration(e){this.configuration=e}getOrCreateAccessToken(){return n(this,null,function*(){return yield this.cache.getOrCreate(i.cacheKey,()=>n(this,null,function*(){let s=yield this.getTokenFromApi();return m.toCachable(s)}),s=>n(this,null,function*(){let a=yield this.getTokenFromApi();return m.toCachable(a)}))})}getAccessToken(){return n(this,null,function*(){return yield this.cache.get(i.cacheKey)})}removeAccessToken(){this.cache.remove(i.cacheKey)}getTokenFromApi(){return n(this,null,function*(){let e={grant_type:"client_credentials",scope:this.scopes.join(" ")},s=Object.keys(e).map(p=>p+"="+e[p]).join("&"),a=typeof Buffer<"u",r=`${this.clientId}:${this.clientSecret}`,o=a?Buffer.from(r).toString("base64"):btoa(r),l=yield fetch("https://accounts.spotify.com/api/token",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded",Authorization:`Basic ${o}`},body:s});if(l.status!==200)throw new Error("Failed to get access token.");return yield l.json()})}}return i})();var lt=(()=>{class i{clientId;redirectUri;scopes;static cacheKey="spotify-sdk:ImplicitGrantStrategy:token";configuration=null;get cache(){return this.configuration.cachingStrategy}constructor(e,s,a){this.clientId=e,this.redirectUri=s,this.scopes=a}setConfiguration(e){this.configuration=e}getOrCreateAccessToken(){return n(this,null,function*(){return yield this.cache.getOrCreate(i.cacheKey,()=>n(this,null,function*(){let s=yield this.redirectOrVerifyToken();return m.toCachable(s)}),s=>n(this,null,function*(){return m.refreshCachedAccessToken(this.clientId,s)}))})}getAccessToken(){return n(this,null,function*(){return yield this.cache.get(i.cacheKey)})}removeAccessToken(){this.cache.remove(i.cacheKey)}redirectOrVerifyToken(){return n(this,null,function*(){let e=new URLSearchParams(window.location.hash.substring(1)),s=e.get("access_token");if(s)return Promise.resolve({access_token:s,token_type:e.get("token_type")??"",expires_in:parseInt(e.get("expires_in")??"0"),refresh_token:e.get("refresh_token")??"",expires:Number(e.get("expires"))||0});var r=(this.scopes??[]).join(" ");let o=new URLSearchParams;o.append("client_id",this.clientId),o.append("response_type","token"),o.append("redirect_uri",this.redirectUri),o.append("scope",r);let l="https://accounts.spotify.com/authorize?"+o.toString();return this.configuration.redirectionStrategy.redirect(l),B})}}return i})();var be=(()=>{class i{clientId;redirectUri;scopes;static cacheKey="spotify-sdk:AuthorizationCodeWithPKCEStrategy:token";configuration=null;get cache(){return this.configuration.cachingStrategy}constructor(e,s,a){this.clientId=e,this.redirectUri=s,this.scopes=a}setConfiguration(e){this.configuration=e}getOrCreateAccessToken(){return n(this,null,function*(){return yield this.cache.getOrCreate(i.cacheKey,()=>n(this,null,function*(){let s=yield this.redirectOrVerifyToken();return m.toCachable(s)}),s=>n(this,null,function*(){return m.refreshCachedAccessToken(this.clientId,s)}))})}getAccessToken(){return n(this,null,function*(){return yield this.cache.get(i.cacheKey)})}removeAccessToken(){this.cache.remove(i.cacheKey)}redirectOrVerifyToken(){return n(this,null,function*(){let s=new URLSearchParams(window.location.search).get("code");if(s){let a=yield this.verifyAndExchangeCode(s);return this.removeCodeFromUrl(),a}return this.redirectToSpotify(),B})}redirectToSpotify(){return n(this,null,function*(){let e=m.generateCodeVerifier(128),s=yield m.generateCodeChallenge(e),a={verifier:e,expiresOnAccess:!0};this.cache.setCacheItem("spotify-sdk:verifier",a);let r=yield this.generateRedirectUrlForUser(this.scopes,s);yield this.configuration.redirectionStrategy.redirect(r)})}verifyAndExchangeCode(e){return n(this,null,function*(){let a=(yield this.cache.get("spotify-sdk:verifier"))?.verifier;if(!a)throw new Error("No verifier found in cache - can't validate query string callback parameters.");return yield this.configuration.redirectionStrategy.onReturnFromRedirect(),yield this.exchangeCodeForToken(e,a)})}removeCodeFromUrl(){let e=new URL(window.location.href);e.searchParams.delete("code");let s=e.search?e.href:e.href.replace("?","");window.history.replaceState({},document.title,s)}generateRedirectUrlForUser(e,s){return n(this,null,function*(){let a=e.join(" "),r=new URLSearchParams;return r.append("client_id",this.clientId),r.append("response_type","code"),r.append("redirect_uri",this.redirectUri),r.append("scope",a),r.append("code_challenge_method","S256"),r.append("code_challenge",s),`https://accounts.spotify.com/authorize?${r.toString()}`})}exchangeCodeForToken(e,s){return n(this,null,function*(){let a=new URLSearchParams;a.append("client_id",this.clientId),a.append("grant_type","authorization_code"),a.append("code",e),a.append("redirect_uri",this.redirectUri),a.append("code_verifier",s);let r=yield fetch("https://accounts.spotify.com/api/token",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:a}),o=yield r.text();if(!r.ok)throw new Error(`Failed to exchange code for token: ${r.statusText}, ${o}`);return JSON.parse(o)})}}return i})();var N=class{deserialize(t){return n(this,null,function*(){let e=yield t.text();return e.length>0?JSON.parse(e):null})}};var j=class{validateResponse(t){return n(this,null,function*(){switch(t.status){case 401:throw new Error("Bad or expired token. This can happen if the user revoked a token or the access token has expired. You should re-authenticate the user.");case 403:let e=yield t.text();throw new Error(`Bad OAuth request (wrong consumer key, bad nonce, expired timestamp...). Unfortunately, re-authenticating the user won't help here. Body: ${e}`);case 429:throw new Error("The app has exceeded its rate limits.");default:if(!t.status.toString().startsWith("20")){let s=yield t.text();throw new Error(`Unrecognised response code: ${t.status} - ${t.statusText}. Body: ${s}`)}}})}};var z=class{handleErrors(t){return n(this,null,function*(){return!1})}};var V=class{redirect(t){return n(this,null,function*(){document.location=t.toString()})}onReturnFromRedirect(){return n(this,null,function*(){})}};var F=class{storage;updateFunctions;autoRenewInterval;autoRenewWindow;constructor(t,e=new Map,s=0,a=2*60*1e3){this.storage=t,this.updateFunctions=e,this.autoRenewInterval=s,this.autoRenewWindow=a,this.autoRenewInterval>0&&setInterval(()=>this.autoRenewRenewableItems(),this.autoRenewInterval)}getOrCreate(t,e,s){return n(this,null,function*(){s&&this.updateFunctions.set(t,s);let a=yield this.get(t);if(a)return a;let r=yield e();if(!r)throw new Error("Could not create cache item");return _(r)||this.setCacheItem(t,r),r})}get(t){return n(this,null,function*(){let e=this.storage.get(t),s=e?JSON.parse(e):null;if(this.itemDueToExpire(s)&&this.updateFunctions.has(t)){let a=this.updateFunctions.get(t);yield this.tryUpdateItem(t,s,a),e=this.storage.get(t),s=e?JSON.parse(e):null}return s?s.expires&&(s.expires===-1||s.expires<=Date.now())?(this.remove(t),null):(s.expiresOnAccess&&s.expiresOnAccess===!0&&this.remove(t),s):null})}set(t,e,s){let a=Date.now()+s,r=J(S({},e),{expires:a});this.setCacheItem(t,r)}setCacheItem(t,e){let s=JSON.stringify(e);this.storage.set(t,s)}remove(t){this.storage.remove(t)}itemDueToExpire(t){return!t||!t.expires?!1:t.expires-Date.now()<this.autoRenewWindow}autoRenewRenewableItems(){return n(this,null,function*(){this.updateFunctions.forEach((t,e)=>n(this,null,function*(){let s=yield this.get(e);s&&t&&this.itemDueToExpire(s)&&(yield this.tryUpdateItem(e,s,t))}))})}tryUpdateItem(t,e,s){return n(this,null,function*(){try{let a=yield s(e);a&&this.setCacheItem(t,a)}catch(a){console.error(a)}})}};var H=class extends F{constructor(){super(new Ue)}};var Ue=class{get(t){return localStorage.getItem(t)}set(t,e){localStorage.setItem(t,e)}remove(t){localStorage.removeItem(t)}};var W=class extends F{constructor(){super(new Me)}};var Me=class{cache=new Map;get(t){return this.cache.get(t)??null}set(t,e){this.cache.set(t,e)}remove(t){this.cache.delete(t)}};var Ce=class{clientId;accessToken;refreshTokenAction;constructor(t,e,s){this.clientId=t,this.accessToken=e,this.refreshTokenAction=s||m.refreshCachedAccessToken,this.accessToken.expires||(this.accessToken.expires=m.calculateExpiry(this.accessToken))}setConfiguration(t){}getOrCreateAccessToken(){return n(this,null,function*(){if(this.accessToken.expires&&this.accessToken.expires<=Date.now()){let t=yield this.refreshTokenAction(this.clientId,this.accessToken);this.accessToken=t}return this.accessToken})}getAccessToken(){return n(this,null,function*(){return this.accessToken})}removeAccessToken(){this.accessToken={access_token:"",token_type:"",expires_in:0,refresh_token:"",expires:0}}};var Le=(()=>{class i{sdkConfig;static rootUrl="https://api.spotify.com/v1/";authenticationStrategy;albums;artists;audiobooks;browse;chapters;episodes;recommendations;markets;player;playlists;shows;tracks;users;search;currentUser;constructor(e,s){this.sdkConfig=this.initializeSdk(s),this.albums=new ae(this),this.artists=new ie(this),this.audiobooks=new ne(this),this.browse=new re(this),this.chapters=new oe(this),this.episodes=new ce(this),this.recommendations=new le(this),this.markets=new ue(this),this.player=new pe(this),this.playlists=new he(this),this.shows=new me(this),this.tracks=new fe(this),this.users=new ge(this),this.currentUser=new ye(this);let a=new de(this);this.search=a.execute.bind(a),this.authenticationStrategy=e,this.authenticationStrategy.setConfiguration(this.sdkConfig)}makeRequest(e,s,a=void 0,r=void 0){return n(this,null,function*(){try{let o=yield this.authenticationStrategy.getOrCreateAccessToken();if(_(o))return console.warn("No access token found, authenticating now."),null;let l=o?.access_token,k=i.rootUrl+s,p={method:e,headers:{Authorization:`Bearer ${l}`,"Content-Type":r??"application/json"},body:a?typeof a=="string"?a:JSON.stringify(a):void 0};this.sdkConfig.beforeRequest(k,p);let A=yield this.sdkConfig.fetch(k,p);return this.sdkConfig.afterRequest(k,p,A),A.status===204?null:(yield this.sdkConfig.responseValidator.validateResponse(A),this.sdkConfig.deserializer.deserialize(A))}catch(o){if(!(yield this.sdkConfig.errorHandler.handleErrors(o)))throw o;return null}})}initializeSdk(e){let s=typeof window<"u",a={fetch:(r,o)=>fetch(r,o),beforeRequest:(r,o)=>{},afterRequest:(r,o,l)=>{},deserializer:new N,responseValidator:new j,errorHandler:new z,redirectionStrategy:new V,cachingStrategy:s?new H:new W};return S(S({},a),e)}switchAuthenticationStrategy(e){this.authenticationStrategy=e,this.authenticationStrategy.setConfiguration(this.sdkConfig),this.authenticationStrategy.getOrCreateAccessToken()}authenticate(){return n(this,null,function*(){let e=yield this.authenticationStrategy.getOrCreateAccessToken();return{authenticated:e.expires>Date.now()&&!_(e),accessToken:e}})}getAccessToken(){return n(this,null,function*(){return this.authenticationStrategy.getAccessToken()})}logOut(){this.authenticationStrategy.removeAccessToken()}static withUserAuthorization(e,s,a=[],r){let o=new be(e,s,a);return new i(o,r)}static withClientCredentials(e,s,a=[],r){let o=new Be(e,s,a);return new i(o,r)}static withImplicitGrant(e,s,a=[],r){let o=new lt(e,s,a);return new i(o,r)}static withAccessToken(e,s,a){let r=new Ce(e,s);return new i(r,a)}static performUserAuthorization(e,s,a,r,o){return n(this,null,function*(){let l=new be(e,s,a),p=yield new i(l,o).authenticationStrategy.getOrCreateAccessToken();return _(p)||(typeof r=="string"?(console.log("Posting access token to postback URL."),yield fetch(r,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(p)})):yield r(p)),{authenticated:p.expires>Date.now()&&!_(p),accessToken:p}})}}return i})();var Ai=(()=>{let t=class t{constructor(){this.clientId="cffd066e684f4b0f826e746e4d693f5a",this.redirectUri=`${window.location.origin}/callback`,this.scope=["playlist-modify-private","playlist-modify-public","playlist-read-collaborative","playlist-read-private","streaming","ugc-image-upload","user-follow-modify","user-follow-read","user-library-modify","user-library-read","user-modify-playback-state","user-read-currently-playing","user-read-email","user-read-playback-position","user-read-playback-state","user-read-private","user-read-recently-played","user-top-read"],this.SA=Le.withUserAuthorization(this.clientId,this.redirectUri,this.scope)}clonePlaylist(s,a,r){return n(this,null,function*(){return yield _e(()=>n(this,null,function*(){if(!s)throw new Error("No playlist id");if(!a||a===0)throw new Error("No tracks Available");let o=yield this.createPlaylist(`${r} - cloned`);if(!o)throw new Error("Failed To Create new playlist");let l=yield this.getAllPlaylistItems(s,a),k=O(l,100);try{for(var p=U(k),A,ke,xe;A=!(ke=yield p.next()).done;A=!1){let ut=ke.value;yield this.addTracksToPlaylist(o.id,ut.map(pt=>pt.track?.uri))}}catch{xe=[ke]}finally{try{A&&(ke=p.return)&&(yield ke.call(p))}finally{if(xe)throw xe[0]}}return!0}))})}login(){return n(this,null,function*(){yield this.SA.currentUser.profile()})}getUser(){return n(this,null,function*(){return this.SA||this.login(),this.user?this.user:this.setUser()})}setUser(){return n(this,null,function*(){let s=yield this.SA.currentUser.profile();if(!s)throw new Error("unable to fetch user.");return this.user=s,s})}fetchMyPlaylists(s=0){return n(this,null,function*(){return yield this.SA.currentUser.playlists.playlists(50,s)})}fetchUserAllPlaylists(){return n(this,null,function*(){return yield _e(()=>n(this,null,function*(){let s=[],a=0,r=!0;for(;r;){let o=yield this.SA.currentUser.playlists.playlists(50,a);a+=o.items.length,o.next||(r=!1),s.push(...o.items)}return s}))})}deletePlaylist(s){return n(this,null,function*(){yield this.SA.currentUser.playlists.unfollow(s)})}getPlaylist(s){return n(this,null,function*(){return yield this.SA.playlists.getPlaylist(s)})}getAllPlaylistItems(s,a){return n(this,null,function*(){let r=[],o=Math.ceil(a/50),l=[];for(let p=0;p<o;p++)l.push(this.SA.playlists.getPlaylistItems(s,void 0,void 0,50,p*50));return(yield Promise.all(l)).forEach(p=>{r.push(...p.items)}),r})}getUserLikedItems(){return n(this,null,function*(){let s=[],a=0;do{let r=yield this.SA.currentUser.tracks.savedTracks(50,s.length,void 0);a=r.total,s.push(...r.items)}while(s.length<a);return s})}removeSongFromPlaylist(s,a){return n(this,null,function*(){if(a.length===0)return!1;let r=a.map(ke=>({uri:ke})),o=O(r,100);try{for(var l=U(o),k,p,A;k=!(p=yield l.next()).done;k=!1){let ke=p.value;yield this.SA.playlists.removeItemsFromPlaylist(s,{tracks:ke})}}catch{A=[p]}finally{try{k&&(p=l.return)&&(yield p.call(l))}finally{if(A)throw A[0]}}return!0})}getArtists(s){return n(this,null,function*(){let a=[],r=O(s,50),o=[];try{for(var k=U(r),p,A,ke;p=!(A=yield k.next()).done;p=!1){let xe=A.value;o.push(this.SA.artists.get(xe))}}catch{ke=[A]}finally{try{p&&(A=k.return)&&(yield A.call(k))}finally{if(ke)throw ke[0]}}return(yield Promise.all(o)).forEach(xe=>{a.push(...xe)}),console.log("totalArr",a),a})}createPlaylist(s){return n(this,null,function*(){let a=yield this.getUser();if(!a)throw new Error("Unable to find the UserId");return yield this.SA.playlists.createPlaylist(a.id,{name:s,collaborative:!1,description:"Created By spotools",public:!0})})}addTracksToPlaylist(s,a){return n(this,null,function*(){let r=O(a,100);try{for(var o=U(r),l,k,p;l=!(k=yield o.next()).done;l=!1){let A=k.value;yield this.SA.playlists.addItemsToPlaylist(s,A)}}catch{p=[k]}finally{try{l&&(k=o.return)&&(yield k.call(o))}finally{if(p)throw p[0]}}return!0})}};t.\u0275fac=function(a){return new(a||t)},t.\u0275prov=Oe({token:t,factory:t.\u0275fac,providedIn:"root"});let i=t;return i})();var Pi=(()=>{class i extends P{static \u0275fac=(()=>{let e;return function(a){return(e||(e=$(i)))(a||i)}})();static \u0275cmp=x({type:i,selectors:[["CheckIcon"]],standalone:!0,features:[q,T],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M4.86199 11.5948C4.78717 11.5923 4.71366 11.5745 4.64596 11.5426C4.57826 11.5107 4.51779 11.4652 4.46827 11.4091L0.753985 7.69483C0.683167 7.64891 0.623706 7.58751 0.580092 7.51525C0.536478 7.44299 0.509851 7.36177 0.502221 7.27771C0.49459 7.19366 0.506156 7.10897 0.536046 7.03004C0.565935 6.95111 0.613367 6.88 0.674759 6.82208C0.736151 6.76416 0.8099 6.72095 0.890436 6.69571C0.970973 6.67046 1.05619 6.66385 1.13966 6.67635C1.22313 6.68886 1.30266 6.72017 1.37226 6.76792C1.44186 6.81567 1.4997 6.8786 1.54141 6.95197L4.86199 10.2503L12.6397 2.49483C12.7444 2.42694 12.8689 2.39617 12.9932 2.40745C13.1174 2.41873 13.2343 2.47141 13.3251 2.55705C13.4159 2.64268 13.4753 2.75632 13.4938 2.87973C13.5123 3.00315 13.4888 3.1292 13.4271 3.23768L5.2557 11.4091C5.20618 11.4652 5.14571 11.5107 5.07801 11.5426C5.01031 11.5745 4.9368 11.5923 4.86199 11.5948Z","fill","currentColor"]],template:function(s,a){s&1&&(E(),g(0,"svg",0),w(1,"path",1),y()),s&2&&(v(a.getClassNames()),f("aria-label",a.ariaLabel)("aria-hidden",a.ariaHidden)("role",a.role))},encapsulation:2})}return i})();var Mi=(()=>{class i extends P{static \u0275fac=(()=>{let e;return function(a){return(e||(e=$(i)))(a||i)}})();static \u0275cmp=x({type:i,selectors:[["TimesIcon"]],standalone:!0,features:[q,T],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M8.01186 7.00933L12.27 2.75116C12.341 2.68501 12.398 2.60524 12.4375 2.51661C12.4769 2.42798 12.4982 2.3323 12.4999 2.23529C12.5016 2.13827 12.4838 2.0419 12.4474 1.95194C12.4111 1.86197 12.357 1.78024 12.2884 1.71163C12.2198 1.64302 12.138 1.58893 12.0481 1.55259C11.9581 1.51625 11.8617 1.4984 11.7647 1.50011C11.6677 1.50182 11.572 1.52306 11.4834 1.56255C11.3948 1.60204 11.315 1.65898 11.2488 1.72997L6.99067 5.98814L2.7325 1.72997C2.59553 1.60234 2.41437 1.53286 2.22718 1.53616C2.03999 1.53946 1.8614 1.61529 1.72901 1.74767C1.59663 1.88006 1.5208 2.05865 1.5175 2.24584C1.5142 2.43303 1.58368 2.61419 1.71131 2.75116L5.96948 7.00933L1.71131 11.2675C1.576 11.403 1.5 11.5866 1.5 11.7781C1.5 11.9696 1.576 12.1532 1.71131 12.2887C1.84679 12.424 2.03043 12.5 2.2219 12.5C2.41338 12.5 2.59702 12.424 2.7325 12.2887L6.99067 8.03052L11.2488 12.2887C11.3843 12.424 11.568 12.5 11.7594 12.5C11.9509 12.5 12.1346 12.424 12.27 12.2887C12.4053 12.1532 12.4813 11.9696 12.4813 11.7781C12.4813 11.5866 12.4053 11.403 12.27 11.2675L8.01186 7.00933Z","fill","currentColor"]],template:function(s,a){s&1&&(E(),g(0,"svg",0),w(1,"path",1),y()),s&2&&(v(a.getClassNames()),f("aria-label",a.ariaLabel)("aria-hidden",a.ariaHidden)("role",a.role))},encapsulation:2})}return i})();export{At as a,dt as b,_e as c,Et as d,rt as e,Dt as f,ot as g,cs as h,_t as i,ls as j,Pi as k,Mi as l,Ai as m};
