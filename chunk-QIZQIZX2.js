import{a as pt,b as ct}from"./chunk-B3AHBAUT.js";import{b as $,c as ze,d as qe,e as Q}from"./chunk-LB7DG5T7.js";import{h as Xe,l as Ze}from"./chunk-L7SOSQRX.js";import{a as tt,b as it,e as fe,f as he,g as nt,h as at,i as ot,j as rt,k as lt,l as st,m as dt}from"./chunk-DNNS4IWC.js";import{a as Ee}from"./chunk-PISNFLPN.js";import{$a as te,$c as ke,Ab as Y,Ac as N,Bb as K,Cb as J,Db as m,Eb as ae,Fb as M,Hb as P,Ib as I,Ic as ee,Jb as E,Kb as oe,La as ye,Lb as R,Mc as me,Nb as re,Ob as Ge,Oc as ue,Pa as s,Pb as we,Qa as w,Qb as Ae,Rc as B,S as De,Sb as Re,Sc as O,T as Fe,U as V,Ua as Oe,Wc as Ye,Xb as We,Xc as xe,Z as D,Za as ge,Zc as Te,ad as Pe,ba as C,ca as F,cb as f,cc as le,cd as Ie,db as y,e as T,eb as c,fc as L,gc as se,hc as Qe,ib as j,id as W,jb as G,ka as h,kb as Be,kd as Ke,la as b,lb as ie,ld as Je,mb as ne,nb as r,nd as $e,ob as l,oc as He,od as et,pa as Ne,pb as x,qb as Ce,ra as _e,rb as ve,sb as A,ta as v,tb as k,ub as _,vb as p,vc as de,wb as z,xb as q,xc as pe,yb as Se,yc as ce,zb as je,zc as Ue}from"./chunk-RDDOURY4.js";var mt=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=F({type:t});static \u0275inj=V({imports:[N,O]})}return t})();var yt=["*"],gt=(t,o,e,i,n,a)=>({"p-sidebar":!0,"p-sidebar-active":t,"p-sidebar-left":o,"p-sidebar-right":e,"p-sidebar-top":i,"p-sidebar-bottom":n,"p-sidebar-full":a}),Ct=(t,o)=>({transform:t,transition:o}),vt=t=>({value:"visible",params:t});function St(t,o){t&1&&A(0)}function wt(t,o){if(t&1&&(Ce(0),f(1,St,1,0,"ng-container",5),ve()),t&2){let e=p(2);s(),c("ngTemplateOutlet",e.headlessTemplate)}}function xt(t,o){t&1&&A(0)}function Tt(t,o){t&1&&x(0,"TimesIcon",13),t&2&&(c("styleClass","p-sidebar-close-icon"),y("data-pc-section","closeicon"))}function kt(t,o){}function Pt(t,o){t&1&&f(0,kt,0,0,"ng-template")}function It(t,o){if(t&1&&(r(0,"span",14),f(1,Pt,1,0,null,5),l()),t&2){let e=p(4);y("data-pc-section","closeicon"),s(),c("ngTemplateOutlet",e.closeIconTemplate)}}function Et(t,o){if(t&1){let e=k();r(0,"button",10),_("click",function(n){h(e);let a=p(3);return b(a.close(n))})("keydown.enter",function(n){h(e);let a=p(3);return b(a.close(n))}),f(1,Tt,1,2,"TimesIcon",11)(2,It,2,2,"span",12),l()}if(t&2){let e=p(3);y("aria-label",e.ariaCloseLabel)("data-pc-section","closebutton")("data-pc-group-section","iconcontainer"),s(),c("ngIf",!e.closeIconTemplate),s(),c("ngIf",e.closeIconTemplate)}}function Mt(t,o){t&1&&A(0)}function Lt(t,o){t&1&&A(0)}function Vt(t,o){if(t&1&&(Ce(0),r(1,"div",15),f(2,Lt,1,0,"ng-container",5),l(),ve()),t&2){let e=p(3);s(),y("data-pc-section","footer"),s(),c("ngTemplateOutlet",e.footerTemplate)}}function Dt(t,o){if(t&1&&(r(0,"div",6),f(1,xt,1,0,"ng-container",5)(2,Et,3,5,"button",7),l(),r(3,"div",8),q(4),f(5,Mt,1,0,"ng-container",5),l(),f(6,Vt,3,2,"ng-container",9)),t&2){let e=p(2);y("data-pc-section","header"),s(),c("ngTemplateOutlet",e.headerTemplate),s(),c("ngIf",e.showCloseIcon),s(),y("data-pc-section","content"),s(2),c("ngTemplateOutlet",e.contentTemplate),s(),c("ngIf",e.footerTemplate)}}function Ft(t,o){if(t&1){let e=k();r(0,"div",3,0),_("@panelState.start",function(n){h(e);let a=p();return b(a.onAnimationStart(n))})("@panelState.done",function(n){h(e);let a=p();return b(a.onAnimationEnd(n))})("keydown",function(n){h(e);let a=p();return b(a.onKeyDown(n))}),f(2,wt,2,1,"ng-container",4)(3,Dt,7,6,"ng-template",null,1,We),l()}if(t&2){let e=J(4),i=p();j(i.styleClass),c("ngClass",Re(9,gt,i.visible,i.position==="left"&&!i.fullScreen,i.position==="right"&&!i.fullScreen,i.position==="top"&&!i.fullScreen,i.position==="bottom"&&!i.fullScreen,i.fullScreen))("@panelState",re(19,vt,Ge(16,Ct,i.transformOptions,i.transitionOptions)))("ngStyle",i.style),y("data-pc-name","sidebar")("data-pc-section","root"),s(2),c("ngIf",i.headlessTemplate)("ngIfElse",e)}}var Nt=Pe([Te({transform:"{{transform}}",opacity:0}),xe("{{transition}}")]),Ot=Pe([xe("{{transition}}",Te({transform:"{{transform}}",opacity:0}))]),U=(()=>{class t{document;el;renderer;cd;config;appendTo;blockScroll=!1;style;styleClass;ariaCloseLabel;autoZIndex=!0;baseZIndex=0;modal=!0;dismissible=!0;showCloseIcon=!0;closeOnEscape=!0;transitionOptions="150ms cubic-bezier(0, 0, 0.2, 1)";get visible(){return this._visible}set visible(e){this._visible=e}get position(){return this._position}set position(e){switch(this._position=e,e){case"left":this.transformOptions="translate3d(-100%, 0px, 0px)";break;case"right":this.transformOptions="translate3d(100%, 0px, 0px)";break;case"bottom":this.transformOptions="translate3d(0px, 100%, 0px)";break;case"top":this.transformOptions="translate3d(0px, -100%, 0px)";break}}get fullScreen(){return this._fullScreen}set fullScreen(e){this._fullScreen=e,e&&(this.transformOptions="none")}templates;onShow=new v;onHide=new v;visibleChange=new v;initialized;_visible;_position="left";_fullScreen=!1;container;transformOptions="translate3d(-100%, 0px, 0px)";mask;maskClickListener;documentEscapeListener;animationEndListener;contentTemplate;headerTemplate;footerTemplate;closeIconTemplate;headlessTemplate;constructor(e,i,n,a,u){this.document=e,this.el=i,this.renderer=n,this.cd=a,this.config=u}ngAfterViewInit(){this.initialized=!0}ngAfterContentInit(){this.templates?.forEach(e=>{switch(e.getType()){case"content":this.contentTemplate=e.template;break;case"header":this.headerTemplate=e.template;break;case"footer":this.footerTemplate=e.template;break;case"closeicon":this.closeIconTemplate=e.template;break;case"headless":this.headlessTemplate=e.template;break;default:this.contentTemplate=e.template;break}})}onKeyDown(e){e.code==="Escape"&&this.hide(!1)}show(){this.autoZIndex&&ee.set("modal",this.container,this.baseZIndex||this.config.zIndex.modal),this.modal&&this.enableModality(),this.onShow.emit({}),this.visibleChange.emit(!0)}hide(e=!0){e&&this.onHide.emit({}),this.modal&&this.disableModality()}close(e){this.hide(),this.visibleChange.emit(!1),e.preventDefault()}enableModality(){this.mask||(this.mask=this.renderer.createElement("div"),this.renderer.setStyle(this.mask,"zIndex",String(parseInt(this.container.style.zIndex)-1)),W.addMultipleClasses(this.mask,"p-component-overlay p-sidebar-mask p-component-overlay p-component-overlay-enter"),this.dismissible&&(this.maskClickListener=this.renderer.listen(this.mask,"click",e=>{this.dismissible&&this.close(e)})),this.renderer.appendChild(this.document.body,this.mask),this.blockScroll&&W.blockBodyScroll())}disableModality(){this.mask&&(W.addClass(this.mask,"p-component-overlay-leave"),this.animationEndListener=this.renderer.listen(this.mask,"animationend",this.destroyModal.bind(this)))}destroyModal(){this.unbindMaskClickListener(),this.mask&&this.renderer.removeChild(this.document.body,this.mask),this.blockScroll&&W.unblockBodyScroll(),this.unbindAnimationEndListener(),this.mask=null}onAnimationStart(e){switch(e.toState){case"visible":this.container=e.element,this.appendContainer(),this.show(),this.closeOnEscape&&this.bindDocumentEscapeListener();break}}onAnimationEnd(e){switch(e.toState){case"void":this.hide(!1),ee.clear(this.container),this.unbindGlobalListeners();break}}appendContainer(){this.appendTo&&(this.appendTo==="body"?this.renderer.appendChild(this.document.body,this.container):W.appendChild(this.container,this.appendTo))}bindDocumentEscapeListener(){let e=this.el?this.el.nativeElement.ownerDocument:this.document;this.documentEscapeListener=this.renderer.listen(e,"keydown",i=>{i.which==27&&parseInt(this.container.style.zIndex)===ee.get(this.container)&&this.close(i)})}unbindDocumentEscapeListener(){this.documentEscapeListener&&(this.documentEscapeListener(),this.documentEscapeListener=null)}unbindMaskClickListener(){this.maskClickListener&&(this.maskClickListener(),this.maskClickListener=null)}unbindGlobalListeners(){this.unbindMaskClickListener(),this.unbindDocumentEscapeListener()}unbindAnimationEndListener(){this.animationEndListener&&this.mask&&(this.animationEndListener(),this.animationEndListener=null)}ngOnDestroy(){this.initialized=!1,this.visible&&this.modal&&this.destroyModal(),this.appendTo&&this.container&&this.renderer.appendChild(this.el.nativeElement,this.container),this.container&&this.autoZIndex&&ee.clear(this.container),this.container=null,this.unbindGlobalListeners(),this.unbindAnimationEndListener()}static \u0275fac=function(i){return new(i||t)(w(He),w(_e),w(Oe),w(le),w(ue))};static \u0275cmp=C({type:t,selectors:[["p-sidebar"]],contentQueries:function(i,n,a){if(i&1&&Se(a,B,4),i&2){let u;Y(u=K())&&(n.templates=u)}},hostAttrs:[1,"p-element"],inputs:{appendTo:"appendTo",blockScroll:[2,"blockScroll","blockScroll",L],style:"style",styleClass:"styleClass",ariaCloseLabel:"ariaCloseLabel",autoZIndex:[2,"autoZIndex","autoZIndex",L],baseZIndex:[2,"baseZIndex","baseZIndex",se],modal:[2,"modal","modal",L],dismissible:[2,"dismissible","dismissible",L],showCloseIcon:[2,"showCloseIcon","showCloseIcon",L],closeOnEscape:[2,"closeOnEscape","closeOnEscape",L],transitionOptions:"transitionOptions",visible:"visible",position:"position",fullScreen:"fullScreen"},outputs:{onShow:"onShow",onHide:"onHide",visibleChange:"visibleChange"},features:[te],ngContentSelectors:yt,decls:1,vars:1,consts:[["container",""],["notHeadless",""],["role","complementary",3,"ngClass","ngStyle","class","keydown",4,"ngIf"],["role","complementary",3,"keydown","ngClass","ngStyle"],[4,"ngIf","ngIfElse"],[4,"ngTemplateOutlet"],[1,"p-sidebar-header"],["type","button","class","p-sidebar-close p-sidebar-icon p-link","pRipple","",3,"click","keydown.enter",4,"ngIf"],[1,"p-sidebar-content"],[4,"ngIf"],["type","button","pRipple","",1,"p-sidebar-close","p-sidebar-icon","p-link",3,"click","keydown.enter"],[3,"styleClass",4,"ngIf"],["class","p-sidebar-close-icon",4,"ngIf"],[3,"styleClass"],[1,"p-sidebar-close-icon"],[1,"p-sidebar-footer"]],template:function(i,n){i&1&&(z(),f(0,Ft,5,21,"div",2)),i&2&&c("ngIf",n.visible)},dependencies:()=>[de,pe,Ue,ce,Ke,Ee],styles:[`@layer primeng{.p-sidebar{position:fixed;transition:transform .3s;display:flex;flex-direction:column}.p-sidebar-content{position:relative;overflow-y:auto;flex-grow:1}.p-sidebar-header{display:flex;align-items:center}.p-sidebar-footer{margin-top:auto}.p-sidebar-icon{display:flex;align-items:center;justify-content:center;margin-left:auto}.p-sidebar-left{top:0;left:0;width:20rem;height:100%}.p-sidebar-right{top:0;right:0;width:20rem;height:100%}.p-sidebar-top{top:0;left:0;width:100%;height:10rem}.p-sidebar-bottom{bottom:0;left:0;width:100%;height:10rem}.p-sidebar-full{width:100%;height:100%;top:0;left:0;-webkit-transition:none;transition:none}.p-sidebar-left.p-sidebar-sm,.p-sidebar-right.p-sidebar-sm{width:20rem}.p-sidebar-left.p-sidebar-md,.p-sidebar-right.p-sidebar-md{width:40rem}.p-sidebar-left.p-sidebar-lg,.p-sidebar-right.p-sidebar-lg{width:60rem}.p-sidebar-top.p-sidebar-sm,.p-sidebar-bottom.p-sidebar-sm{height:10rem}.p-sidebar-top.p-sidebar-md,.p-sidebar-bottom.p-sidebar-md{height:20rem}.p-sidebar-top.p-sidebar-lg,.p-sidebar-bottom.p-sidebar-lg{height:30rem}@media screen and (max-width: 64em){.p-sidebar-left.p-sidebar-lg,.p-sidebar-left.p-sidebar-md,.p-sidebar-right.p-sidebar-lg,.p-sidebar-right.p-sidebar-md{width:20rem}}}
`],encapsulation:2,data:{animation:[Ye("panelState",[ke("void => visible",[Ie(Nt)]),ke("visible => void",[Ie(Ot)])])]},changeDetection:0})}return t})(),X=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=F({type:t});static \u0275inj=V({imports:[N,Je,O,Ee,O]})}return t})();var Bt=["*"],ut=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275cmp=C({type:t,selectors:[["p-floatLabel"]],ngContentSelectors:Bt,decls:2,vars:0,consts:[[1,"p-float-label"]],template:function(i,n){i&1&&(z(),r(0,"span",0),q(1),l())},encapsulation:2,changeDetection:0})}return t})(),ft=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=F({type:t});static \u0275inj=V({imports:[N,O,Ze,O]})}return t})();var Gt=["input"],At=(t,o,e,i)=>({"p-radiobutton p-component":!0,"p-radiobutton-checked":t,"p-radiobutton-disabled":o,"p-radiobutton-focused":e,"p-variant-filled":i}),Rt=(t,o,e)=>({"p-radiobutton-box":!0,"p-highlight":t,"p-disabled":o,"p-focus":e}),Wt=(t,o,e)=>({"p-radiobutton-label":!0,"p-radiobutton-label-active":t,"p-disabled":o,"p-radiobutton-label-focus":e});function Qt(t,o){if(t&1){let e=k();r(0,"label",7),_("click",function(n){h(e);let a=p();return b(a.select(n))}),m(1),l()}if(t&2){let e=p(),i=J(3);j(e.labelStyleClass),c("ngClass",we(6,Wt,i.checked,e.disabled,e.focused)),y("for",e.inputId)("data-pc-section","label"),s(),ae(e.label)}}var Ht={provide:nt,useExisting:De(()=>Ve),multi:!0},Ut=(()=>{class t{accessors=[];add(e,i){this.accessors.push([e,i])}remove(e){this.accessors=this.accessors.filter(i=>i[1]!==e)}select(e){this.accessors.forEach(i=>{this.isSameGroup(i,e)&&i[1]!==e&&i[1].writeValue(e.value)})}isSameGroup(e,i){return e[0].control?e[0].control.root===i.control.control.root&&e[1].name===i.name:!1}static \u0275fac=function(i){return new(i||t)};static \u0275prov=Fe({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Ve=(()=>{class t{cd;injector;registry;config;value;formControlName;name;disabled;label;variant="outlined";tabindex;inputId;ariaLabelledBy;ariaLabel;style;styleClass;labelStyleClass;autofocus;onClick=new v;onFocus=new v;onBlur=new v;inputViewChild;onModelChange=()=>{};onModelTouched=()=>{};checked;focused;control;constructor(e,i,n,a){this.cd=e,this.injector=i,this.registry=n,this.config=a}ngOnInit(){this.control=this.injector.get(at),this.checkName(),this.registry.add(this.control,this)}handleClick(e,i,n){e.preventDefault(),!this.disabled&&(this.select(e),n&&i.focus())}select(e){this.disabled||(this.inputViewChild.nativeElement.checked=!0,this.checked=!0,this.onModelChange(this.value),this.registry.select(this),this.onClick.emit({originalEvent:e,value:this.value}))}writeValue(e){this.checked=e==this.value,this.inputViewChild&&this.inputViewChild.nativeElement&&(this.inputViewChild.nativeElement.checked=this.checked),this.cd.markForCheck()}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e,this.cd.markForCheck()}onInputFocus(e){this.focused=!0,this.onFocus.emit(e)}onInputBlur(e){this.focused=!1,this.onModelTouched(),this.onBlur.emit(e)}focus(){this.inputViewChild.nativeElement.focus()}ngOnDestroy(){this.registry.remove(this)}checkName(){this.name&&this.formControlName&&this.name!==this.formControlName&&this.throwNameError(),!this.name&&this.formControlName&&(this.name=this.formControlName)}throwNameError(){throw new Error(`
          If you define both a name and a formControlName attribute on your radio button, their values
          must match. Ex: <p-radioButton formControlName="food" name="food"></p-radioButton>
        `)}static \u0275fac=function(i){return new(i||t)(w(le),w(Ne),w(Ut),w(ue))};static \u0275cmp=C({type:t,selectors:[["p-radioButton"]],viewQuery:function(i,n){if(i&1&&je(Gt,5),i&2){let a;Y(a=K())&&(n.inputViewChild=a.first)}},hostAttrs:[1,"p-element"],inputs:{value:"value",formControlName:"formControlName",name:"name",disabled:[2,"disabled","disabled",L],label:"label",variant:"variant",tabindex:[2,"tabindex","tabindex",se],inputId:"inputId",ariaLabelledBy:"ariaLabelledBy",ariaLabel:"ariaLabel",style:"style",styleClass:"styleClass",labelStyleClass:"labelStyleClass",autofocus:[2,"autofocus","autofocus",L]},outputs:{onClick:"onClick",onFocus:"onFocus",onBlur:"onBlur"},features:[oe([Ht]),te],decls:7,vars:31,consts:[["input",""],[3,"click","ngStyle","ngClass"],[1,"p-hidden-accessible"],["type","radio","pAutoFocus","",3,"focus","blur","checked","disabled","value","autofocus"],[3,"ngClass"],[1,"p-radiobutton-icon"],[3,"class","ngClass","click",4,"ngIf"],[3,"click","ngClass"]],template:function(i,n){if(i&1){let a=k();r(0,"div",1),_("click",function(d){h(a);let g=J(3);return b(n.handleClick(d,g,!0))}),r(1,"div",2)(2,"input",3,0),_("focus",function(d){return h(a),b(n.onInputFocus(d))})("blur",function(d){return h(a),b(n.onInputBlur(d))}),l()(),r(4,"div",4),x(5,"span",5),l()(),f(6,Qt,2,10,"label",6)}i&2&&(j(n.styleClass),c("ngStyle",n.style)("ngClass",Ae(22,At,n.checked,n.disabled,n.focused,n.variant==="filled"||n.config.inputStyle()==="filled")),y("data-pc-name","radiobutton")("data-pc-section","root"),s(),y("data-pc-section","hiddenInputWrapper"),s(),c("checked",n.checked)("disabled",n.disabled)("value",n.value)("autofocus",n.autofocus),y("id",n.inputId)("name",n.name)("aria-labelledby",n.ariaLabelledBy)("aria-label",n.ariaLabel)("tabindex",n.tabindex)("aria-checked",n.checked)("data-pc-section","hiddenInput"),s(2),c("ngClass",we(27,Rt,n.checked,n.disabled,n.focused)),y("data-pc-section","input"),s(),y("data-pc-section","icon"),s(),c("ngIf",n.label))},dependencies:[de,pe,ce,tt],encapsulation:2,changeDetection:0})}return t})(),be=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=F({type:t});static \u0275inj=V({imports:[N,it]})}return t})();var zt=(t,o)=>o.uuid;function qt(t,o){t&1&&(r(0,"div",8),m(1,"SPLIT PLAYLIST"),l(),x(2,"div"))}function Yt(t,o){if(t&1&&(r(0,"div",6)(1,"label",9)(2,"span",10),m(3),l(),r(4,"span",11),m(5),l()()()),t&2){let e=o.$implicit;s(),c("for",e.genre),s(2),ae(e.genre),s(2),M("(",e.items.length,")")}}function Kt(t,o){t&1&&x(0,"div")}function Jt(t,o){if(t&1&&(x(0,"p-button",12),f(1,Kt,1,0,"div")),t&2){let e=p();c("classList","fullWidthBtn")("disabled",!e.selectedGenre),s(),G(e.selectedGenre?1:-1)}}var ht=(()=>{let o=class o{constructor(){this.showGenreSidebar=!0,this.showGenreSidebarChange=new v,this.selectedGenre="",this.searchedText=ge(""),this.genreMap=ge([]),this.filteredGenreMap=Qe(()=>{let i=this.searchedText();return this.genreMap().filter(n=>n.genre.includes(i))}),this.spotify=D(Q)}ngOnInit(){return T(this,null,function*(){$().set(!0);try{if(!this.playlist.tracks?.total)throw new Error("there are no tracks available");let i=yield this.spotify.getAllPlaylistItems(this.playlist.id,this.playlist.tracks?.total),n={};i.forEach(g=>{g.track.artists.forEach(S=>{n[S.id]||(n[S.id]=[]),n[S.id].push(g.track.id)})});let a=yield this.spotify.getArtists(Object.keys(n)),u={},d=[];a.forEach(g=>{g.genres.forEach(S=>{let Z=n[g.id];u[S]?u[S].push(...Z):u[S]=Z})}),Object.keys(u).forEach(g=>{d.push({uuid:Math.random().toString(),genre:g,items:et(u[g])})}),this.genreMap.set(d)}catch(i){console.error("\u{1F680} ~ file: genre.component.ts:77 ~ GenreComponent ~ ngOnInit ~ error:",i)}finally{$().set(!1)}})}searched(i){i.preventDefault();let n=i.target;this.searchedText.set(n.value)}};o.\u0275fac=function(n){return new(n||o)},o.\u0275cmp=C({type:o,selectors:[["app-genre"]],inputs:{playlist:"playlist",showGenreSidebar:"showGenreSidebar"},outputs:{showGenreSidebarChange:"showGenreSidebarChange"},standalone:!0,features:[oe([]),R],decls:12,vars:1,consts:[["styleClass","p-sidebar-md","title","Split Playlist","position","right",1,"no-sidebar-shadow",3,"visibleChange","onHide","visible"],["pTemplate","header"],[1,"px-5","h-full"],[1,"pt-5","pb-2"],["type","text","pInputText","",1,"w-full",3,"keydown"],["for","username"],[1,"cursor-pointer","hover:text-purple-600","hover:bg-gray-500","mb-1","flex","py-1","ng-star-inserted","bg-gray-100","rounded-md","pl-3"],["pTemplate","footer"],[1,"font-semibold","text-2xl"],[1,"ml-2",3,"for"],[1,"text-2xl","cursor-pointer"],[1,"text-xl","text-gray-500","pl-3"],["label","Create Playlist","icon","pi pi-check",1,"text-2xl","w-full",3,"classList","disabled"]],template:function(n,a){n&1&&(r(0,"p-sidebar",0),E("visibleChange",function(d){return I(a.showGenreSidebar,d)||(a.showGenreSidebar=d),d}),_("onHide",function(){return a.showGenreSidebarChange.emit(!1)}),f(1,qt,3,0,"ng-template",1),r(2,"div",2)(3,"div",3)(4,"p-floatLabel")(5,"input",4),_("keydown",function(d){return a.searched(d)}),l(),r(6,"label",5),m(7,"Username"),l()()(),r(8,"div"),ie(9,Yt,6,3,"div",6,zt),l()(),f(11,Jt,2,3,"ng-template",7),l()),n&2&&(P("visible",a.showGenreSidebar),s(9),ne(a.filteredGenreMap()))},dependencies:[X,U,B,be,he,fe,dt,st,ft,ut],encapsulation:2,changeDetection:0});let t=o;return t})();function $t(t,o){t&1&&(r(0,"div",17),m(1,"SPLIT PLAYLIST"),l())}var bt=(()=>{let o=class o{constructor(){this.splitCount=1,this.spotify=D(Q),this.toastService=D(me),this.showSplitPlaylistSidebar=!1,this.showSplitPlaylistSidebarChange=new v,this.exit=new v,this.splitMode="dividePlayListIntoXParts"}splitPlaylist(){return T(this,null,function*(){let i=yield ze(()=>T(this,null,function*(){let n=this.playlist.tracks?.total||0;if(!n)throw new Error("No Tracks In playlist to Split");let u=(yield this.spotify.getAllPlaylistItems(this.playlist.id,n)).map(d=>d.track?.uri);if(this.splitMode==="dividePlayListIntoXParts"){let d=Math.ceil(n/this.splitCount),g=$e(u,d);for(let S=0;S<g.length;S++){let Z=yield this.spotify.createPlaylist(`${this.playlist.name} - splitted #${S+1}`);if(!Z)throw new Error("Failed To Create Playlist");yield this.spotify.addTracksToPlaylist(Z.id,g[S])}}return!0}));qe(i)||console.log(i.result)})}};o.\u0275fac=function(n){return new(n||o)},o.\u0275cmp=C({type:o,selectors:[["app-playlist-split"]],inputs:{playlist:"playlist",showSplitPlaylistSidebar:"showSplitPlaylistSidebar"},outputs:{showSplitPlaylistSidebarChange:"showSplitPlaylistSidebarChange",exit:"exit"},standalone:!0,features:[R],decls:22,vars:5,consts:[["styleClass","p-sidebar-md","title","Split Playlist","position","right",1,"no-sidebar-shadow",3,"visibleChange","onHide","visible"],["pTemplate","header"],[1,"px-5","h-full"],[1,"text-lg","font-semibold"],[1,"block","font-bold","text-gray-600","dark:text-gray-300","mt-4"],[1,"flex","flex-col","ml-4"],[1,"flex","py-3","align-middle"],["name","dividePlayListIntoXParts","value","dividePlayListIntoXParts","inputId","dividePlayListIntoXParts",3,"ngModelChange","ngModel"],["for","dividePlayListIntoXParts",1,"ml-2"],[1,"flex","py-3"],["name","createPlayListWithXSongs","value","createPlayListWithXSongs","disabled","true","inputId","createPlayListWithXSongs",3,"ngModelChange","ngModel"],["for","createPlayListWithXSongs",1,"ml-2"],[1,""],["for","minmax",1,"block","pb-3"],["inputId","minmax","mode","decimal","min","0","max","100",3,"ngModelChange","ngModel"],[1,"flex","flex-row-reverse","mt-4"],["label","Split Playlist","icon","pi pi-check",1,"text-2xl",3,"onClick"],[1,"font-semibold","text-2xl"]],template:function(n,a){n&1&&(r(0,"p-sidebar",0),E("visibleChange",function(d){return I(a.showSplitPlaylistSidebar,d)||(a.showSplitPlaylistSidebar=d),d}),_("onHide",function(){return a.showSplitPlaylistSidebarChange.emit(!1)}),f(1,$t,2,0,"ng-template",1),r(2,"div",2)(3,"p",3),m(4," Split the playlist onto many parts. The original playlist won't be modified or deleted. "),l(),r(5,"span",4),m(6," Split type: "),l(),r(7,"div",5)(8,"div",6)(9,"p-radioButton",7),E("ngModelChange",function(d){return I(a.splitMode,d)||(a.splitMode=d),d}),l(),r(10,"label",8),m(11," Divide Playlist into X parts "),l()(),r(12,"div",9)(13,"p-radioButton",10),E("ngModelChange",function(d){return I(a.splitMode,d)||(a.splitMode=d),d}),l(),r(14,"label",11),m(15," Create Playlist with X songs each "),l()()(),r(16,"div",12)(17,"label",13),m(18),l(),r(19,"p-inputNumber",14),E("ngModelChange",function(d){return I(a.splitCount,d)||(a.splitCount=d),d}),l()(),r(20,"div",15)(21,"p-button",16),_("onClick",function(){return a.splitPlaylist()}),l()()()()),n&2&&(P("visible",a.showSplitPlaylistSidebar),s(9),P("ngModel",a.splitMode),s(4),P("ngModel",a.splitMode),s(5),M(" ",a.splitMode==="createPlayListWithXSongs"?"Number of songs":"Number of parts",""),s(),P("ngModel",a.splitCount))},dependencies:[X,U,B,be,Ve,lt,ot,rt,ct,pt,he,fe],encapsulation:2});let t=o;return t})();var ei=t=>["/home/playlist",t];function ti(t,o){if(t&1){let e=k();r(0,"div",1)(1,"a",6),x(2,"img",7),l(),r(3,"div",8)(4,"p",9),m(5),l(),r(6,"i",10),_("click",function(){let n=h(e).$implicit,a=p();return a.setUpdateItem(n),b(a.sidebarVisible=!0)}),l()()()}if(t&2){let e=o.$implicit;s(),c("routerLink",re(3,ei,e.id)),s(),c("src",e.images&&e.images.length?e.images[0].url:"https://primefaces.org/cdn/primeng/images/demo/avatar/amyelsner.png",ye),s(3),M(" ",e.name," ")}}function ii(t,o){if(t&1){let e=k();r(0,"div",3)(1,"div",11),x(2,"div",12),r(3,"div",13)(4,"div")(5,"h2",14),m(6),l(),r(7,"p")(8,"strong"),m(9,"Made by"),l(),m(10),l(),r(11,"p")(12,"strong"),m(13,"With"),l(),m(14),l()()(),x(15,"img",15),l(),r(16,"div",16)(17,"div",17),m(18,"Creation Tools"),l(),r(19,"div",18)(20,"div",19),_("click",function(){h(e);let n=p();return b(n.splitPlaylistSidebarVisible=!0)}),m(21," Split Playlist "),l(),r(22,"div",19),_("click",function(){h(e);let n=p();return b(n.deletePlaylist(n.modPlaylist))}),m(23," Delete Playlist "),l(),r(24,"div",19),_("click",function(){h(e);let n=p();return b(n.clonePlaylist(n.modPlaylist.id,(n.modPlaylist.tracks==null?null:n.modPlaylist.tracks.total)||0,n.modPlaylist.name))}),m(25," Clone Playlist "),l(),r(26,"div",19),_("click",function(){h(e);let n=p();return b(n.deleteDuplicates(n.modPlaylist.id,(n.modPlaylist.tracks==null?null:n.modPlaylist.tracks.total)||0,n.modPlaylist.name))}),m(27," Delete Duplicates "),l(),r(28,"div",19),_("click",function(){h(e);let n=p();return b(n.filteredGenre(n.modPlaylist))}),m(29," Filtered Genre "),l()()()()}if(t&2){let e=p();s(6),M(" ",e.modPlaylist.name," "),s(4),M(" ",e.modPlaylist.owner.display_name," "),s(4),M(" ",(e.modPlaylist.tracks==null?null:e.modPlaylist.tracks.total)||0," items"),s(),c("src",e.modPlaylist.images&&e.modPlaylist.images.length?e.modPlaylist.images[0].url:"https://primefaces.org/cdn/primeng/images/demo/avatar/amyelsner.png",ye)}}function ni(t,o){if(t&1){let e=k();r(0,"app-playlist-split",20),E("showSplitPlaylistSidebarChange",function(n){h(e);let a=p();return I(a.splitPlaylistSidebarVisible,n)||(a.splitPlaylistSidebarVisible=n),b(n)}),_("onClose",function(){h(e);let n=p();return b(n.closeSidebar())}),l()}if(t&2){let e=p();c("playlist",e.modPlaylist),P("showSplitPlaylistSidebar",e.splitPlaylistSidebarVisible)}}function ai(t,o){if(t&1){let e=k();r(0,"app-genre",21),E("showGenreSidebarChange",function(n){h(e);let a=p();return I(a.genreSidebar,n)||(a.genreSidebar=n),b(n)}),l()}if(t&2){let e=p();c("playlist",e.modPlaylist),P("showGenreSidebar",e.genreSidebar)}}var Vn=(()=>{let o=class o{constructor(){this.splitPlaylistSidebarVisible=!1,this.toastService=D(me),this.userPlaylists=[],this.spotify=D(Q),this.sidebarVisible=!1,this.genreSidebar=!1,this.showSpinner=$()}closeGenre(){throw new Error("Method not implemented.")}fetchUserPlaylists(){return T(this,null,function*(){this.showSpinner.set(!0);let i=yield this.spotify.fetchMyPlaylists();console.log(i),this.userPlaylists=i.items,this.showSpinner.set(!1)})}setUpdateItem(i){this.modPlaylist=i}clonePlaylist(i,n,a){return T(this,null,function*(){console.log("\u{1F680} ~ file: playlist-card.component.ts:47 ~ PlayListCardComponent ~ clonePlaylist ~ playlistName:",a),console.log("\u{1F680} ~ file: playlist-card.component.ts:47 ~ PlayListCardComponent ~ clonePlaylist ~ totalTracks:",n),console.log("\u{1F680} ~ file: playlist-card.component.ts:47 ~ PlayListCardComponent ~ clonePlaylist ~ playlistId:",i)})}deleteDuplicates(i,n,a){return T(this,null,function*(){console.log("\u{1F680} ~ file: playlist-card.component.ts:47 ~ PlayListCardComponent ~ clonePlaylist ~ playlistName:",a),console.log("\u{1F680} ~ file: playlist-card.component.ts:47 ~ PlayListCardComponent ~ clonePlaylist ~ totalTracks:",n),console.log("\u{1F680} ~ file: playlist-card.component.ts:47 ~ PlayListCardComponent ~ clonePlaylist ~ playlistId:",i)})}ngOnInit(){return T(this,null,function*(){this.fetchUserPlaylists()})}deletePlaylist(i){return T(this,null,function*(){let n=yield this.spotify.getUser();if(i.owner.id!==n?.id)return this.toastService.add({severity:"error",summary:"Error",detail:"You are no the owner of this playlist"});this.spotify.deletePlaylist(i.id),this.toastService.add({severity:"success",summary:"Success",detail:"Playlist deleted successfully"}),this.closeSidebar()})}closeSidebar(){this.modPlaylist=void 0,this.sidebarVisible=!1,this.splitPlaylistSidebarVisible=!1,this.fetchUserPlaylists()}filteredGenre(i){this.modPlaylist=i,this.genreSidebar=!0}};o.\u0275fac=function(n){return new(n||o)},o.\u0275cmp=C({type:o,selectors:[["app-playlist-card"]],standalone:!0,features:[R],decls:7,vars:4,consts:[[1,"flex","flex-wrap","justify-around","mt-4"],[1,"max-w-80","overflow-hidden","rounded-md","m-4","shadow-card"],["styleClass","p-sidebar-md","position","right",3,"visibleChange","visible"],[1,""],[3,"playlist","showSplitPlaylistSidebar"],[3,"playlist","showGenreSidebar"],[3,"routerLink"],["width","300px","alt","",1,"border-b",3,"src"],[1,"m-2","flex","justify-between"],[1,"text-lg","font-semibold","leading-none","m-0","truncate"],[1,"pi","pi-ellipsis-v","cursor-pointer",2,"font-size","1rem",3,"click"],[1,"relative"],[1,"absolute","flex","h-80","w-full","items-end","bg-black","opacity-60"],[1,"absolute","flex","h-80","w-full","items-end","p-4","text-white"],[1,"mb-2","text-2xl","font-bold","tracking-wider"],["alt","","srcset","",1,"h-80","w-full","object-cover",3,"src"],[1,"px-4"],[1,"text-2xl","font-bold","pt-4","pb-2"],[1,"mx-4"],[1,"cursor-pointer","pl-4","py-2","text-lg","hover:text-purple-600",3,"click"],[3,"showSplitPlaylistSidebarChange","onClose","playlist","showSplitPlaylistSidebar"],[3,"showGenreSidebarChange","playlist","showGenreSidebar"]],template:function(n,a){n&1&&(r(0,"div",0),ie(1,ti,7,5,"div",1,Be),r(3,"p-sidebar",2),E("visibleChange",function(d){return I(a.sidebarVisible,d)||(a.sidebarVisible=d),d}),f(4,ii,30,4,"div",3),l(),f(5,ni,1,2,"app-playlist-split",4)(6,ai,1,2,"app-genre",5),l()),n&2&&(s(),ne(a.userPlaylists),s(2),P("visible",a.sidebarVisible),s(),G(a.modPlaylist?4:-1),s(),G(a.splitPlaylistSidebarVisible&&a.modPlaylist?5:-1),s(),G(a.genreSidebar&&a.modPlaylist?6:-1))},dependencies:[mt,Xe,X,U,bt,ht]});let t=o;return t})();export{Vn as PlayListCardComponent};
